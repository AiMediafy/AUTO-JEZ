<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- â”€â”€ OG / SEO (aktualizowane przez JS dla artykuÅ‚Ã³w) â”€â”€ -->
  <title id="page-title">TVAI â€“ WiadomoÅ›ci AI</title>
  <meta name="description" id="meta-desc" content="Najnowsze newsy ze Å›wiata AI â€“ OpenAI, Google, Anthropic, xAI i inne. Pisane po ludzku." />

  <meta property="og:type"        content="website" />
  <meta property="og:site_name"   content="TVAI" />
  <meta property="og:title"       id="og-title"  content="TVAI â€“ WiadomoÅ›ci AI" />
  <meta property="og:description" id="og-desc"   content="Najnowsze newsy ze Å›wiata AI â€“ OpenAI, Google, Anthropic, xAI i inne. Pisane po ludzku." />
  <meta property="og:image"       id="og-image"  content="https://aimediafy.github.io/AUTO-JEZ/og-default.jpg" />
  <meta property="og:url"         id="og-url"    content="https://aimediafy.github.io/AUTO-JEZ" />

  <meta name="twitter:card"        content="summary_large_image" />
  <meta name="twitter:title"       id="tw-title" content="TVAI â€“ WiadomoÅ›ci AI" />
  <meta name="twitter:description" id="tw-desc"  content="Najnowsze newsy ze Å›wiata AI â€“ OpenAI, Google, Anthropic, xAI i inne. Pisane po ludzku." />
  <meta name="twitter:image"       id="tw-image" content="https://aimediafy.github.io/AUTO-JEZ/og-default.jpg" />

  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Syne:wght@700;800&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/9.1.6/marked.min.js"></script>

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --bg:         #000000;
      --bg2:        #080810;
      --bg3:        #0f0f18;
      --card:       #0a0a12;
      --border:     rgba(255,255,255,0.06);
      --border2:    rgba(255,255,255,0.11);
      --text:       #ffffff;
      --text2:      #9090a8;
      --text3:      #505060;
      --blue:       #2563eb;
      --blue-soft:  rgba(37,99,235,0.1);
      --blue-light: #3b82f6;
      --radius-lg:  18px;
      --max-w:      1200px;
    }

    html {
      scroll-behavior: smooth;
      overflow-x: hidden;
    }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Inter', sans-serif;
      font-size: 15px;
      line-height: 1.6;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
      max-width: 100vw;
    }
    a { color: inherit; text-decoration: none; }

    /* â”€â”€ GLOW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .glow-bg {
      position: fixed;
      width: 800px; height: 500px;
      background: radial-gradient(ellipse, rgba(37,99,235,0.09) 0%, transparent 70%);
      top: -100px; left: 50%;
      transform: translateX(-50%);
      pointer-events: none;
      z-index: 0;
    }

    /* â”€â”€ TICKER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .ticker-wrap {
      background: var(--bg2);
      border-bottom: 1px solid var(--border);
      overflow: hidden;
      height: 36px;
      display: flex;
      align-items: center;
      position: relative;
      z-index: 99;
    }
    .ticker-label {
      flex-shrink: 0;
      background: var(--blue);
      color: #fff;
      font-size: 0.68rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      padding: 0 14px;
      height: 100%;
      display: flex;
      align-items: center;
    }
    .ticker-track-wrap {
      overflow: hidden;
      flex: 1;
      height: 100%;
      position: relative;
    }
    .ticker-track-wrap::before,
    .ticker-track-wrap::after {
      content: '';
      position: absolute;
      top: 0; bottom: 0;
      width: 40px;
      z-index: 1;
      pointer-events: none;
    }
    .ticker-track-wrap::before { left: 0; background: linear-gradient(to right, var(--bg2), transparent); }
    .ticker-track-wrap::after  { right: 0; background: linear-gradient(to left, var(--bg2), transparent); }
    .ticker-track {
      display: flex;
      align-items: center;
      width: max-content;
      animation: ticker 40s linear infinite;
      height: 100%;
    }
    .ticker-track:hover { animation-play-state: paused; }
    .ticker-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 0 32px;
      font-size: 0.78rem;
      color: var(--text2);
      white-space: nowrap;
      cursor: pointer;
      transition: color 0.2s;
    }
    .ticker-item:hover { color: var(--text); }
    .ticker-dot { width: 4px; height: 4px; border-radius: 50%; flex-shrink: 0; }
    @keyframes ticker {
      from { transform: translateX(0); }
      to   { transform: translateX(-50%); }
    }

    /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(0,0,0,0.85);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border);
    }
    .header-inner {
      max-width: var(--max-w);
      margin: 0 auto;
      padding: 0 32px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      cursor: pointer;
      flex-shrink: 0;
    }
    .logo-icon {
      width: 32px; height: 32px;
      background: var(--blue);
      border-radius: 8px;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 0.85rem; color: #fff;
    }
    .logo-text { font-size: 0.92rem; font-weight: 600; }

    .nav-pill {
      display: flex;
      align-items: center;
      gap: 2px;
      background: rgba(255,255,255,0.04);
      border: 1px solid var(--border);
      border-radius: 100px;
      padding: 4px;
    }
    .filter-btn {
      font-size: 0.75rem;
      font-weight: 500;
      padding: 5px 13px;
      border-radius: 100px;
      border: none;
      background: transparent;
      color: var(--text2);
      cursor: pointer;
      transition: all 0.2s;
      white-space: nowrap;
    }
    .filter-btn:hover { color: var(--text); }
    .filter-btn.active { background: var(--blue); color: #fff; }

    /* â”€â”€ SEARCH BOX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .search-wrap {
      position: relative;
      flex-shrink: 0;
    }
    .search-input {
      background: rgba(255,255,255,0.05);
      border: 1px solid var(--border);
      border-radius: 100px;
      color: var(--text);
      font-family: 'Inter', sans-serif;
      font-size: 0.8rem;
      padding: 7px 36px 7px 14px;
      width: 200px;
      transition: border-color 0.2s, width 0.3s, background 0.2s;
      outline: none;
    }
    .search-input::placeholder { color: var(--text3); }
    .search-input:focus {
      border-color: var(--blue);
      background: rgba(37,99,235,0.06);
      width: 260px;
    }
    .search-icon {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text3);
      font-size: 0.85rem;
      pointer-events: none;
    }

    .header-cta {
      font-size: 0.82rem;
      font-weight: 600;
      padding: 8px 20px;
      background: var(--blue);
      color: #fff;
      border-radius: 100px;
      border: none;
      cursor: pointer;
      transition: opacity 0.2s;
      white-space: nowrap;
      flex-shrink: 0;
    }
    .header-cta:hover { opacity: 0.85; }

    /* â”€â”€ HERO â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .hero {
      max-width: var(--max-w);
      margin: 0 auto;
      padding: 64px 32px 48px;
      position: relative;
      z-index: 1;
    }
    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: var(--blue-soft);
      border: 1px solid rgba(37,99,235,0.25);
      border-radius: 100px;
      padding: 5px 14px 5px 10px;
      font-size: 0.72rem;
      font-weight: 600;
      color: var(--blue-light);
      margin-bottom: 20px;
    }
    .lang-opt {
      padding: 10px 16px;
      font-size: 0.82rem;
      color: var(--text2);
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
      white-space: nowrap;
    }
.lang-opt:hover { background: rgba(255,255,255,0.05); color: var(--text); }
    .hero-badge-dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: var(--blue-light);
      animation: pulse 2s ease infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    .hero h1 {
      font-family: 'Syne', sans-serif;
      font-size: clamp(2rem, 4vw, 3.4rem);
      font-weight: 800;
      line-height: 1.1;
      letter-spacing: -0.02em;
      margin-bottom: 14px;
    }
    .hero h1 .dim { color: var(--text2); }
    .hero p {
      font-size: 0.98rem;
      color: var(--text2);
      max-width: 480px;
      line-height: 1.7;
    }

    /* â”€â”€ FILTER BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .filter-bar {
      max-width: var(--max-w);
      margin: 0 auto;
      padding: 0 32px 32px;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      position: relative;
      z-index: 1;
      align-items: center;
    }
    .tag-btn {
      font-size: 0.76rem;
      font-weight: 500;
      padding: 6px 14px;
      border-radius: 100px;
      border: 1px solid var(--border2);
      background: transparent;
      color: var(--text2);
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    .tag-btn:hover { border-color: var(--blue); color: var(--blue-light); }
    .tag-btn.active {
      border-color: var(--blue);
      background: var(--blue-soft);
      color: var(--blue-light);
    }
    .tag-count {
      font-size: 0.65rem;
      font-weight: 600;
      background: rgba(255,255,255,0.07);
      padding: 1px 6px;
      border-radius: 100px;
      color: var(--text3);
    }
    .tag-btn.active .tag-count { background: rgba(37,99,235,0.2); color: var(--blue-light); }

    /* search results info */
    .search-info {
      font-size: 0.82rem;
      color: var(--text3);
      margin-left: auto;
    }
    .search-info span { color: var(--text2); font-weight: 500; }

    /* â”€â”€ GRID â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    main {
      max-width: var(--max-w);
      margin: 0 auto;
      padding: 0 32px 80px;
      position: relative;
      z-index: 1;
    }
    .posts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 18px;
    }

    /* â”€â”€ CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .post-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      overflow: hidden;
      cursor: pointer;
      transition: border-color 0.25s, transform 0.25s cubic-bezier(.22,.68,0,1.2), box-shadow 0.25s;
      animation: fadeUp 0.4s ease both;
      display: flex; 
      flex-direction: column;     
    }
    .post-card:hover {
      border-color: rgba(37,99,235,0.35);
      transform: translateY(-3px);
      box-shadow: 0 12px 40px rgba(0,0,0,0.4), 0 0 0 1px rgba(37,99,235,0.08);
    }
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(16px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    .post-card:nth-child(1) { animation-delay: 0.04s; }
    .post-card:nth-child(2) { animation-delay: 0.08s; }
    .post-card:nth-child(3) { animation-delay: 0.12s; }
    .post-card:nth-child(4) { animation-delay: 0.16s; }
    .post-card:nth-child(5) { animation-delay: 0.20s; }
    .post-card:nth-child(6) { animation-delay: 0.24s; }

    .card-image-wrap {
      width: 100%;
      aspect-ratio: 16/9;
      overflow: hidden;
      background: var(--bg3);
    }
    .card-image-wrap img {
      width: 100%; height: 100%;
      object-fit: contain;
      display: block;
      transition: transform 0.4s ease;
    }
    .post-card:hover .card-image-wrap img { transform: scale(1.04); }

    .card-placeholder {
      width: 100%; height: 100%;
      display: flex; align-items: center; justify-content: center;
      background: linear-gradient(135deg, var(--bg3) 0%, #080818 100%);
      position: relative; overflow: hidden;
    }
    .card-placeholder::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(ellipse at 50% 50%, rgba(37,99,235,0.07), transparent 70%);
    }
    .card-placeholder-label {
      font-family: 'Syne', sans-serif;
      font-size: 0.65rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: rgba(255,255,255,0.1);
      position: relative; z-index: 1;
    }

    .card-body {
      padding: 18px 20px 20px;
      display: flex;
      flex-direction: column;
      flex: 1;
    }
    .card-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 12px;
    }
    .company-badge {
      font-size: 0.67rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      padding: 3px 10px;
      border-radius: 100px;
    }
    .card-date { font-size: 0.72rem; color: var(--text3); }
    .card-title {
      font-size: 0.95rem;
      font-weight: 600;
      line-height: 1.45;
      color: var(--text);
      margin-bottom: 8px;
      letter-spacing: -0.01em;
    }
    .card-summary {
      font-size: 0.82rem;
      color: var(--text2);
      line-height: 1.65;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .card-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-top: auto; 
      padding-top: 14px;
      border-top: 1px solid var(--border);
    }
    .read-more {
      font-size: 0.76rem;
      font-weight: 600;
      color: var(--blue-light);
      display: flex;
      align-items: center;
      gap: 4px;
      transition: gap 0.2s;
    }
    .post-card:hover .read-more { gap: 8px; }
    .read-time { font-size: 0.72rem; color: var(--text3); }

    /* â”€â”€ PAGINATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .pagination {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 48px;
    }
    .page-btn {
      font-size: 0.82rem;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 100px;
      border: 1px solid var(--border2);
      background: transparent;
      color: var(--text2);
      cursor: pointer;
      transition: all 0.2s;
      min-width: 40px;
      text-align: center;
    }
    .page-btn:hover { border-color: var(--blue); color: var(--blue-light); }
    .page-btn.active {
      background: var(--blue);
      border-color: var(--blue);
      color: #fff;
    }
    .page-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }
    .page-btn:disabled:hover {
      border-color: var(--border2);
      color: var(--text2);
    }

    /* â”€â”€ LOADING / EMPTY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .loading {
      grid-column: 1/-1;
      display: flex;
      align-items: center;
      gap: 8px;
      color: var(--text3);
      font-size: 0.85rem;
      padding: 60px 0;
    }
    .dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: var(--blue);
      animation: blink 1.2s ease infinite;
    }
    .dot:nth-child(2) { animation-delay: 0.2s; }
    .dot:nth-child(3) { animation-delay: 0.4s; }
    @keyframes blink {
      0%,80%,100% { opacity: 0.2; transform: scale(0.7); }
      40% { opacity: 1; transform: scale(1); }
    }
    .empty-state {
      grid-column: 1/-1;
      text-align: center;
      padding: 80px 20px;
      color: var(--text3);
    }
    .empty-state p { margin-top: 12px; font-size: 0.9rem; }

    /* â”€â”€ ARTICLE VIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #article-view { display: none; }

    .article-top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 40px;
      margin-top: 32px;
      flex-wrap: wrap;
      gap: 12px;
    }

    .article-back {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 0.8rem;
      font-weight: 500;
      color: var(--text2);
      cursor: pointer;
      transition: color 0.2s, border-color 0.2s;
      border: 1px solid var(--border);
      padding: 7px 16px;
      border-radius: 100px;
    }
    .article-back:hover { color: var(--text); border-color: var(--border2); }

    .article-share {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .share-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      font-weight: 600;
      padding: 7px 14px;
      border-radius: 100px;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text2);
      cursor: pointer;
      transition: all 0.2s;
    }
    .share-btn:hover { border-color: var(--border2); color: var(--text); }
    .share-btn.copied { border-color: #10a37f; color: #10a37f; }

    .article-hero {
      width: 100%;
      max-height: none;
      object-fit: contain;
      border-radius: var(--radius-lg);
      margin-bottom: 48px;
      border: 1px solid var(--border);
      display: block;
    }
    .article-hero-ph {
      width: 100%; height: 260px;
      background: linear-gradient(135deg, var(--bg3) 0%, #080818 100%);
      border-radius: var(--radius-lg);
      margin-bottom: 48px;
      border: 1px solid var(--border);
      position: relative; overflow: hidden;
    }
    .article-hero-ph::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(ellipse at 50% 100%, rgba(37,99,235,0.12), transparent 70%);
    }

    .article-header { max-width: 760px; margin-bottom: 48px; }
    .article-meta {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 18px;
      flex-wrap: wrap;
    }
    .article-title {
      font-family: 'Syne', sans-serif;
      font-size: clamp(1.8rem, 4vw, 3rem);
      font-weight: 800;
      line-height: 1.15;
      letter-spacing: -0.02em;
    }

    /* auto-generated badge */
    .auto-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.68rem;
      font-weight: 600;
      color: var(--text3);
      border: 1px solid var(--border);
      padding: 3px 10px;
      border-radius: 100px;
    }

    .article-content { max-width: 720px; }
    .article-content p {
      font-size: 1rem;
      line-height: 1.85;
      color: #a8a8bc;
      margin-bottom: 1.4em;
    }
    .article-content h2 {
      font-family: 'Syne', sans-serif;
      font-size: 1.5rem;
      font-weight: 800;
      letter-spacing: -0.015em;
      color: var(--text);
      margin: 2.5em 0 0.8em;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--border);
    }
    .article-content h3 {
      font-size: 1.05rem;
      font-weight: 600;
      color: var(--blue-light);
      margin: 2em 0 0.6em;
    }
    .article-content ul, .article-content ol {
      padding-left: 1.5em;
      margin-bottom: 1.4em;
    }
    .article-content li { color: #a8a8bc; margin-bottom: 0.5em; line-height: 1.7; }
    .article-content strong { color: var(--text); font-weight: 600; }
    .article-content hr { border: none; border-top: 1px solid var(--border); margin: 2.5em 0; }
    .article-content blockquote {
      border-left: 2px solid var(--blue);
      padding: 10px 20px;
      margin: 1.5em 0;
      background: var(--blue-soft);
      border-radius: 0 8px 8px 0;
      color: var(--text2);
    }
    .article-content a { color: var(--blue-light); text-decoration: underline; text-underline-offset: 3px; }

    /* â”€â”€ BACK TO TOP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #back-to-top {
      position: fixed;
      bottom: 145px;
      right: 16px;
      width: 44px; height: 44px;
      background: var(--blue);
      color: #fff;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.1rem;
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1002;
      transition: opacity 0.2s, transform 0.2s;
      box-shadow: 0 4px 20px rgba(37,99,235,0.4);
    }
    #back-to-top:hover { opacity: 0.85; transform: translateY(-2px); }
    #back-to-top.visible { display: flex; }

    @media (max-width: 768px) {
      #back-to-top { bottom: 220px; right: 20px; }
      #li-tab span { display: none; }
      #li-tab { width: 52px; padding: 8px; justify-content: center; border-radius: 50% 0 0 50%; }
      #li-tab:hover { transform: translateX(-4px); }
    }

    /* â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    footer {
      border-top: 1px solid var(--border);
      padding: 28px 32px;
      text-align: center;
      color: var(--text3);
      font-size: 0.78rem;
      position: relative; z-index: 1;
    }

    /* â”€â”€ MOBILE SEARCH BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .mobile-search {
      display: none;
      padding: 10px 16px;
      background: var(--bg2);
      border-bottom: 1px solid var(--border);
    }
    .mobile-search .search-input {
      width: 100%;
      border-radius: 10px;
    }
    .mobile-search .search-input:focus {
      width: 100%;
    }
    @media (max-width: 768px) {
      .mobile-search { display: block; }
    }

    /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (max-width: 768px) {
      .nav-pill { display: none; }
      .search-wrap { display: none; }
      .posts-grid { grid-template-columns: 1fr; }
      .hero { padding: 40px 20px 32px; }
      .hero h1 { font-size: 1.9rem; }
      .filter-bar { padding: 0 20px 24px; gap: 6px; }
      main { padding: 0 20px 60px; }
      .header-inner { padding: 0 16px; gap: 8px; }
      #back-to-top { bottom: 20px; right: 20px; }
      .article-share { flex-wrap: wrap; gap: 6px; }
      .share-btn { font-size: 0.72rem; padding: 6px 10px; }
      .article-top-bar { flex-direction: column; align-items: flex-start; }
    }

    @media (max-width: 400px) {
      .header-cta { padding: 6px 12px; font-size: 0.75rem; }
    }

    /* â”€â”€ LINKEDIN TAB â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #li-tab {
      position: fixed;
      bottom: 90px;
      right: 0;
      width: 200px;
      background: #0a0a12;
      border: 1px solid rgba(37,99,235,0.3);
      border-right: none;
      border-radius: 100px 0 0 100px;
      box-shadow: -4px 4px 20px rgba(37,99,235,0.2);
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 16px 8px 8px;
      cursor: pointer;
      z-index: 1001;
      transform: translateX(160px);
      transition: transform 0.4s cubic-bezier(.22,.68,0,1.2);
    }
    #li-tab.visible { transform: translateX(0); }
    #li-tab:hover { transform: translateX(0); }
    #li-tab-avatar {
      width: 36px; height: 36px;
      border-radius: 50%;
      object-fit: contain;
      flex-shrink: 0;
      border: 2px solid var(--blue);
    }
    #li-tab span {
      font-size: 0.75rem;
      font-weight: 600;
      color: #fff;
      white-space: nowrap;
    }

    @media (max-width: 768px) {
      #li-tab { width: 52px; padding: 8px; justify-content: center; border-radius: 50% 0 0 50%; transform: translateX(56px); bottom: 90px; }
      #li-tab.visible { transform: translateX(0); }
      #li-tab:hover { transform: translateX(-4px); }
      #li-tab span { display: none; }
    }

    /* â”€â”€ LINKEDIN CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #li-card {
      position: fixed;
      bottom: 90px;
      right: 32px;
      width: 300px;
      background: #0a0a12;
      border: 1px solid rgba(37,99,235,0.25);
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.6), 0 0 40px rgba(37,99,235,0.15);
      z-index: 999;
      overflow: hidden;
      transform: translateY(120px);
      opacity: 0;
      transition: transform 0.5s cubic-bezier(.22,.68,0,1.2), opacity 0.4s ease;
    }
    #li-card.visible {
      transform: translateY(0);
      opacity: 1;
    }
    #li-card.hiding {
      transform: translateY(120px);
      opacity: 0;
    }
    #li-close {
      position: absolute;
      top: 10px; right: 10px;
      width: 24px; height: 24px;
      background: rgba(255,255,255,0.1);
      border: none;
      border-radius: 50%;
      color: #fff;
      font-size: 0.7rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2;
      transition: background 0.2s;
    }
    #li-close:hover { background: rgba(255,255,255,0.2); }
    .li-banner {
      height: 80px;
      background: linear-gradient(135deg, #0d1b3e 0%, #1a1a2e 100%);
      position: relative;
      overflow: hidden;
    }
    .li-banner img {
      width: 100%; height: 100%;
      object-fit: contain;
      display: block;
    }
    .li-banner::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 60%, #0a0a12 100%);
    }
    .li-body {
      padding: 0 16px 18px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .li-avatar-wrap {
      margin-top: -24px;
      position: relative;
      z-index: 1;
    }
    .li-avatar {
      width: 52px; height: 52px;
      border-radius: 50%;
      border: 3px solid #0a0a12;
      object-fit: contain;
      display: block;
      background: #1a1a2e;
      box-shadow: 0 0 0 1px rgba(37,99,235,0.4), 0 0 12px rgba(37,99,235,0.2);
    }
    .li-name {
      font-size: 0.95rem;
      font-weight: 700;
      color: #fff;
      line-height: 1.2;
    }
    .li-title {
      font-size: 0.76rem;
      color: var(--blue-light);
      font-weight: 500;
      margin-top: -4px;
    }
    .li-sub {
      font-size: 0.72rem;
      color: var(--text2);
      line-height: 1.5;
    }
    .li-location {
      font-size: 0.68rem;
      color: var(--text3);
    }
    .li-btn {
      display: block;
      text-align: center;
      background: var(--blue);
      color: #fff;
      font-size: 0.78rem;
      font-weight: 700;
      padding: 9px 16px;
      border-radius: 100px;
      text-decoration: none;
      transition: opacity 0.2s, box-shadow 0.2s;
      margin-top: 6px;
      box-shadow: 0 4px 16px rgba(37,99,235,0.35);
    }
    .li-btn:hover { opacity: 0.9; box-shadow: 0 4px 20px rgba(37,99,235,0.5); }

    @media (max-width: 400px) {
      #li-card { right: 12px; bottom: 12px; width: 260px; }
    }
    /* â”€â”€ MACIEJ TAB & CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#mac-tab {
  position: fixed;
  bottom: 32px;
  right: 0;
  width: 200px;
  background: #0a0a12;
  border: 1px solid rgba(37,99,235,0.3);
  border-right: none;
  border-radius: 100px 0 0 100px;
  box-shadow: -4px 4px 20px rgba(37,99,235,0.2);
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 16px 8px 8px;
  cursor: pointer;
  z-index: 1001;
  transform: translateX(160px);
  transition: transform 0.4s cubic-bezier(.22,.68,0,1.2);
}
#mac-tab:hover { transform: translateX(0); }
#mac-tab-avatar {
  width: 36px; height: 36px;
  border-radius: 50%;
  object-fit: contain;
  flex-shrink: 0;
  border: 2px solid var(--blue);
}
#mac-tab span {
  font-size: 0.75rem;
  font-weight: 600;
  color: #fff;
  white-space: nowrap;
}
#mac-card {
  position: fixed;
  bottom: 90px;
  right: 32px;
  width: 300px;
  background: #0a0a12;
  border: 1px solid rgba(37,99,235,0.25);
  border-radius: 16px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.6), 0 0 40px rgba(37,99,235,0.15);
  z-index: 999;
  overflow: hidden;
  transform: translateY(120px);
  opacity: 0;
  pointer-events: none;
  transition: transform 0.5s cubic-bezier(.22,.68,0,1.2), opacity 0.4s ease;
}
#mac-card.visible {
  transform: translateY(0);
  opacity: 1;
  pointer-events: all;
}
#mac-card.hiding {
  transform: translateY(120px);
  opacity: 0;
  pointer-events: none;
}
#mac-close {
  position: absolute;
  top: 10px; right: 10px;
  width: 24px; height: 24px;
  background: rgba(255,255,255,0.1);
  border: none;
  border-radius: 50%;
  color: #fff;
  font-size: 0.7rem;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  transition: background 0.2s;
}
#mac-close:hover { background: rgba(255,255,255,0.2); }
@media (max-width: 768px) {
  #mac-tab { width: 52px; padding: 8px; justify-content: center; border-radius: 50% 0 0 50%; bottom: 155px; }
  #mac-tab span { display: none; }
  #mac-card { right: 12px; bottom: 155px; width: 260px; }
}

    .lang-switch-btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      font-weight: 600;
      padding: 7px 14px;
      border-radius: 100px;
      border: 1px solid var(--blue);
      background: var(--blue-soft);
      color: var(--blue-light);
      cursor: pointer;
      transition: all 0.2s;
    }
.lang-switch-btn:hover { background: var(--blue); color: #fff; }

    /* â”€â”€ COMPANY BADGES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .badge-openai    { background: rgba(16,163,127,0.12);  color: #10a37f; }
    .badge-google    { background: rgba(234,67,53,0.12);   color: #EA4335; }
    .badge-anthropic { background: rgba(217,119,87,0.12);  color: #d97757; }
    .badge-xai       { background: rgba(224,224,224,0.08); color: #E0E0E0; }
    .badge-microsoft { background: rgba(255,185,0,0.12);   color: #FFB900; }
    .badge-meta      { background: rgba(0,130,251,0.12);   color: #0082FB; }
    .badge-qwen      { background: rgba(96,55,219,0.12);   color: #6037db; }
    
    /* Bielik: polska flaga â€” biaÅ‚a gÃ³ra, czerwony dÃ³Å‚ */
    .badge-bielik {
      background: linear-gradient(to bottom, #ffffff 50%, #DC143C 50%);
      color: #1a1a1a;
      border: 1px solid rgba(220,20,60,0.25);
      text-shadow: none;
    }
    .badge-default   { background: rgba(255,255,255,0.06); color: #8080a0; }

    /* â”€â”€ MOBILE READING PROGRESS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #read-progress-mobile {
      position: fixed;
      right: 0;
      top: 0;
      width: 3px;
      height: 100vh;
      background: var(--border);
      z-index: 50;
      display: none;
      pointer-events: none;
    }
    #read-progress-mobile-fill {
      width: 100%;
      height: 0%;
      background: var(--blue);
      box-shadow: 0 0 6px rgba(37,99,235,0.6);
      transition: height 0.1s linear;
    }
    @media (max-width: 900px) {
      #read-progress-mobile { display: block; }
    }
    #read-progress {
      position: fixed;
      right: calc((100vw - 720px) / 2 - 20px);
      top: 50%;
      transform: translateY(-50%);
      width: 3px;
      height: 200px;
      background: var(--border);
      border-radius: 10px;
      z-index: 50;
      display: none;
      pointer-events: none;
    }
    #read-progress-fill {
      width: 100%;
      height: 0%;
      background: var(--blue);
      border-radius: 10px;
      transition: height 0.1s linear;
      box-shadow: 0 0 8px rgba(37,99,235,0.5);
    }
    @media (max-width: 900px) {
      #read-progress { display: none !important; }
    }

    /* â”€â”€ RELATED ARTICLES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .related-section {
      max-width: 720px;
      margin-top: 64px;
      padding-top: 40px;
      border-top: 1px solid var(--border);
    }
    .related-label {
      font-size: 0.7rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text3);
      margin-bottom: 20px;
    }
    .related-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 14px;
    }
    .related-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      cursor: pointer;
      transition: border-color 0.2s, transform 0.2s;
    }
    .related-card:hover {
      border-color: rgba(37,99,235,0.35);
      transform: translateY(-2px);
    }
    .related-img {
      width: 100%;
      aspect-ratio: 16/9;
      object-fit: contain;
      display: block;
      background: var(--bg3);
    }
    .related-body { padding: 12px 14px; }
    .related-title {
      font-size: 0.82rem;
      font-weight: 600;
      line-height: 1.4;
      color: var(--text);
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    .related-meta {
      font-size: 0.7rem;
      color: var(--text3);
      margin-top: 6px;
    }
    .article-engagement {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid var(--border);
    }
    .eng-views { font-size:0.82rem; color:var(--text3); }
    .eng-sep { color:var(--border2); }
    .eng-like {
      display: flex;
      align-items: center;
      gap: 6px;
      background: transparent;
      border: 1px solid var(--border2);
      border-radius: 100px;
      padding: 5px 14px;
      color: var(--text2);
      font-size: 0.82rem;
      cursor: pointer;
      transition: all 0.2s;
    }
    .eng-like:hover { border-color:#f43f5e; color:#f43f5e; }
    .eng-like.liked { border-color:#f43f5e; color:#f43f5e; background:rgba(244,63,94,0.08); }

    /* â”€â”€ HERO STATS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .hero-stats { display:flex; gap:32px; margin-top:28px; flex-wrap:wrap; }
    .hero-stat { display:flex; flex-direction:column; gap:2px; }
    .hero-stat-num { font-family:'Syne',sans-serif; font-size:1.8rem; font-weight:800; color:var(--text); line-height:1; }
    .hero-stat-num span { color:var(--blue-light); }
    .hero-stat-label { font-size:0.72rem; color:var(--text3); text-transform:uppercase; letter-spacing:0.08em; }

    /* â”€â”€ TODAY BADGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .today-badge {
      display:inline-flex; align-items:center; gap:5px;
      font-size:0.63rem; font-weight:700; text-transform:uppercase; letter-spacing:0.08em;
      color:#fff; background:#ef4444; padding:2px 8px; border-radius:100px;
      animation: todayPulse 2s ease infinite;
    }
    .today-dot { width:5px; height:5px; border-radius:50%; background:#fff; animation:pulse 1.5s ease infinite; }
    @keyframes todayPulse {
      0%,100% { box-shadow:0 0 0 0 rgba(239,68,68,0.4); }
      50% { box-shadow:0 0 0 4px rgba(239,68,68,0); }
    }
    .post-card.today { border-color:rgba(239,68,68,0.2); }

    /* â”€â”€ RANDOM BTN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .random-btn {
      font-size:0.76rem; font-weight:500; padding:6px 14px; border-radius:100px;
      border:1px solid var(--border2); background:transparent; color:var(--text2);
      cursor:pointer; transition:all 0.2s; display:flex; align-items:center; gap:6px;
    }
    .random-btn:hover { border-color:var(--blue); color:var(--blue-light); }

    /* â”€â”€ TICKER TIME â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .ticker-time {
      flex-shrink:0; font-size:0.68rem; color:var(--text3);
      padding:0 16px; border-left:1px solid var(--border); white-space:nowrap;
    }
    .ticker-time span { color:var(--blue-light); font-weight:500; }

    /* â”€â”€ NEWSLETTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .newsletter-section { max-width:var(--max-w); margin:0 auto; padding:0 32px 64px; position:relative; z-index:1; }
    .newsletter-box {
      background:var(--card); border:1px solid var(--border); border-radius:var(--radius-lg);
      padding:40px 48px; display:flex; align-items:center; justify-content:space-between;
      gap:32px; position:relative; overflow:hidden;
    }
    .newsletter-box::before {
      content:''; position:absolute; right:-60px; top:-60px; width:300px; height:300px;
      background:radial-gradient(circle, rgba(37,99,235,0.1) 0%, transparent 70%); pointer-events:none;
    }
    .newsletter-left { flex:1; }
    .newsletter-label { font-size:0.7rem; font-weight:700; text-transform:uppercase; letter-spacing:0.1em; color:var(--blue-light); margin-bottom:8px; }
    .newsletter-title { font-family:'Syne',sans-serif; font-size:1.4rem; font-weight:800; color:var(--text); line-height:1.2; margin-bottom:8px; }
    .newsletter-sub { font-size:0.85rem; color:var(--text2); line-height:1.6; }
    .newsletter-form { display:flex; gap:8px; flex-shrink:0; }
    .newsletter-input {
      background:rgba(255,255,255,0.06); border:1px solid var(--border2); border-radius:100px;
      color:var(--text); font-family:'Inter',sans-serif; font-size:0.85rem;
      padding:10px 20px; width:240px; outline:none; transition:border-color 0.2s, background 0.2s;
    }
    .newsletter-input::placeholder { color:var(--text3); }
    .newsletter-input:focus { border-color:var(--blue); background:rgba(37,99,235,0.06); }
    .newsletter-submit {
      background:var(--blue); color:#fff; border:none; border-radius:100px;
      font-family:'Inter',sans-serif; font-size:0.82rem; font-weight:700;
      padding:10px 22px; cursor:pointer; transition:opacity 0.2s; white-space:nowrap;
      box-shadow:0 4px 16px rgba(37,99,235,0.3);
    }
    .newsletter-submit:hover { opacity:0.9; }
    .newsletter-success { display:none; align-items:center; gap:8px; font-size:0.85rem; color:#10a37f; font-weight:500; }

    /* â”€â”€ ABOUT PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #about-view { display:none; }
    .about-section { max-width:760px; }
    .about-section h2 { font-family:'Syne',sans-serif; font-size:1.8rem; font-weight:800; margin:48px 0 16px; letter-spacing:-0.02em; color:var(--text); }
    .about-section h2:first-child { margin-top:0; }
    .about-section p { font-size:1rem; color:#a8a8bc; line-height:1.85; margin-bottom:1.2em; }
    .about-section strong { color:var(--text); }
    .about-timeline { border-left:2px solid var(--border); padding-left:24px; margin:24px 0; display:flex; flex-direction:column; gap:24px; }
    .timeline-item { position:relative; }
    .timeline-item::before { content:''; position:absolute; left:-29px; top:6px; width:10px; height:10px; border-radius:50%; background:var(--blue); border:2px solid var(--bg); }
    .timeline-step { font-size:0.7rem; font-weight:700; text-transform:uppercase; letter-spacing:0.1em; color:var(--blue-light); margin-bottom:4px; }
    .timeline-text { font-size:0.9rem; color:var(--text2); line-height:1.6; }
    .about-links { display:flex; gap:12px; margin-top:16px; flex-wrap:wrap; }
    .about-link-btn {
      display:inline-flex; align-items:center; gap:6px; font-size:0.8rem; font-weight:600;
      padding:8px 18px; border-radius:100px; border:1px solid var(--border);
      background:transparent; color:var(--text2); cursor:pointer; transition:all 0.2s; text-decoration:none;
    }
    .about-link-btn:hover { border-color:var(--blue); color:var(--blue-light); }
    .about-link-btn.primary { background:var(--blue); border-color:var(--blue); color:#fff; }
    .about-link-btn.primary:hover { opacity:0.9; }

    @media (max-width:768px) {
      .newsletter-box { flex-direction:column; padding:28px 24px; }
      .newsletter-form { flex-direction:column; width:100%; }
      .newsletter-input { width:100%; }
      .newsletter-section { padding:0 20px 48px; }
      .hero-stats { gap:20px; }
    }
    /* â”€â”€ NEWSLETTER MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#nl-modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(6px);
  z-index: 2000;
  align-items: center;
  justify-content: center;
}
#nl-modal-overlay.visible { display: flex; }
#nl-modal {
  background: #0a0a12;
  border: 1px solid rgba(37,99,235,0.3);
  border-radius: 20px;
  padding: 36px;
  width: 90%;
  max-width: 480px;
  box-shadow: 0 24px 80px rgba(0,0,0,0.7), 0 0 40px rgba(37,99,235,0.15);
  position: relative;
}
.nl-modal-title {
  font-family: 'Syne', sans-serif;
  font-size: 1.4rem;
  font-weight: 800;
  color: var(--text);
  margin-bottom: 6px;
}
.nl-modal-sub {
  font-size: 0.82rem;
  color: var(--text2);
  margin-bottom: 24px;
  line-height: 1.5;
}
.nl-section-label {
  font-size: 0.68rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text3);
  margin-bottom: 10px;
}
.nl-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
}
.nl-chip {
  font-size: 0.75rem;
  font-weight: 600;
  padding: 6px 14px;
  border-radius: 100px;
  border: 1px solid var(--border2);
  background: transparent;
  color: var(--text2);
  cursor: pointer;
  transition: all 0.18s;
  user-select: none;
}
.nl-chip:hover { border-color: var(--blue); color: var(--blue-light); }
.nl-chip.selected {
  border-color: var(--blue);
  background: var(--blue-soft);
  color: var(--blue-light);
}
.nl-chip.selected::before { content: 'âœ“ '; }
.nl-divider {
  border: none;
  border-top: 1px solid var(--border);
  margin: 20px 0;
}
.nl-confirm-btn {
  width: 100%;
  background: var(--blue);
  color: #fff;
  border: none;
  border-radius: 100px;
  font-family: 'Inter', sans-serif;
  font-size: 0.88rem;
  font-weight: 700;
  padding: 13px;
  cursor: pointer;
  transition: opacity 0.2s;
  box-shadow: 0 4px 20px rgba(37,99,235,0.35);
  margin-top: 8px;
}
.nl-confirm-btn:hover { opacity: 0.9; }
#nl-modal-close {
  position: absolute;
  top: 14px; right: 14px;
  width: 28px; height: 28px;
  background: rgba(255,255,255,0.08);
  border: none;
  border-radius: 50%;
  color: var(--text2);
  font-size: 0.75rem;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s;
}
#nl-modal-close:hover { background: rgba(255,255,255,0.15); }
.nl-skip {
  display: block;
  text-align: center;
  font-size: 0.75rem;
  color: var(--text3);
  margin-top: 12px;
  cursor: pointer;
  transition: color 0.2s;
}
.nl-skip:hover { color: var(--text2); }
    .nl-skip-btn {
  width: 100%;
  background: transparent;
  border: 1px solid var(--border2);
  border-radius: 100px;
  font-family: 'Inter', sans-serif;
  font-size: 0.82rem;
  font-weight: 500;
  color: var(--text2);
  padding: 11px;
  cursor: pointer;
  margin-top: 8px;
  transition: all 0.2s;
}
.nl-skip-btn:hover { border-color: var(--border); color: var(--text); }
    /* â”€â”€ SOFT GATE MODAL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#sg-modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  backdrop-filter: blur(6px);
  z-index: 3000;
  align-items: center;
  justify-content: center;
}
#sg-modal-overlay.visible { display: flex; }
#sg-modal {
  background: #0a0a12;
  border: 1px solid rgba(37,99,235,0.3);
  border-radius: 20px;
  padding: 36px;
  width: 90%;
  max-width: 500px;
  box-shadow: 0 24px 80px rgba(0,0,0,0.7), 0 0 40px rgba(37,99,235,0.15);
  position: relative;
}
#sg-modal-close {
  position: absolute;
  top: 14px; right: 14px;
  width: 28px; height: 28px;
  background: rgba(255,255,255,0.08);
  border: none;
  border-radius: 50%;
  color: var(--text2);
  font-size: 0.75rem;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s;
}
#sg-modal-close:hover { background: rgba(255,255,255,0.15); }
.sg-emoji { font-size: 2.2rem; margin-bottom: 12px; }
.sg-title {
  font-family: 'Syne', sans-serif;
  font-size: 1.3rem;
  font-weight: 800;
  color: var(--text);
  margin-bottom: 8px;
}
.sg-sub {
  font-size: 0.84rem;
  color: var(--text2);
  line-height: 1.6;
  margin-bottom: 20px;
}
.sg-divider {
  border: none;
  border-top: 1px solid var(--border);
  margin: 20px 0;
}
.sg-feedback-label {
  font-size: 0.68rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  color: var(--text3);
  margin-bottom: 8px;
}
.sg-feedback-sub {
  font-size: 0.8rem;
  color: var(--text2);
  line-height: 1.5;
  margin-bottom: 12px;
}
.sg-feedback-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--blue-light);
  border: 1px solid rgba(37,99,235,0.35);
  padding: 8px 16px;
  border-radius: 100px;
  text-decoration: none;
  transition: all 0.2s;
  margin-bottom: 16px;
}
.sg-feedback-link:hover { background: var(--blue-soft); }
.sg-nl-form { display: flex; gap: 8px; margin-top: 16px; }
.sg-nl-input {
  flex: 1;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--border2);
  border-radius: 100px;
  color: var(--text);
  font-family: 'Inter', sans-serif;
  font-size: 0.82rem;
  padding: 10px 16px;
  outline: none;
  transition: border-color 0.2s;
}
.sg-nl-input::placeholder { color: var(--text3); }
.sg-nl-input:focus { border-color: var(--blue); }
.sg-nl-btn {
  background: var(--blue);
  color: #fff;
  border: none;
  border-radius: 100px;
  font-family: 'Inter', sans-serif;
  font-size: 0.8rem;
  font-weight: 700;
  padding: 10px 18px;
  cursor: pointer;
  white-space: nowrap;
  transition: opacity 0.2s;
}
.sg-nl-btn:hover { opacity: 0.9; }
.sg-skip {
  display: block;
  text-align: center;
  font-size: 0.73rem;
  color: var(--text3);
  margin-top: 12px;
  cursor: pointer;
  transition: color 0.2s;
}
.sg-skip:hover { color: var(--text2); }
  </style>
</head>
<body>

  <div class="glow-bg"></div>

  <!-- TICKER -->
  <div class="ticker-wrap" id="ticker-wrap">
    <div class="ticker-label">ğŸ”´ LIVE</div>
    <div class="ticker-track-wrap">
      <div class="ticker-track" id="ticker-track"></div>
    </div>
    <div class="ticker-time" id="ticker-time"></div>
  </div>

  <!-- MOBILE SEARCH -->
  <div class="mobile-search">
    <input type="text" class="search-input" id="search-input-mobile" placeholder="ğŸ” Szukaj newsÃ³w..." />
  </div>

  <!-- HEADER -->
  <header>
    <div class="header-inner">
      <div class="logo" id="logo-btn">
        <img src="Mlogo.png" alt="TVAI" style="width:32px;height:32px;border-radius:8px;object-fit:contain;" onerror="this.outerHTML='<div class=\\'logo-icon\\'>TV</div>'"/>
        <span class="logo-text">TVAI</span>
      </div>
      <div class="nav-pill" id="nav-pill">
        <button class="filter-btn active" data-filter="all">Wszystkie</button>
        <button class="filter-btn" data-filter="OpenAI">OpenAI</button>
        <button class="filter-btn" data-filter="Google">Google</button>
        <button class="filter-btn" data-filter="Anthropic">Anthropic</button>
        <button class="filter-btn" data-filter="xAI">xAI</button>
        <button class="filter-btn" data-filter="Microsoft">Microsoft</button>
        <button class="filter-btn" data-filter="Meta">Meta</button>
        <button class="filter-btn" data-filter="Qwen">Qwen</button>
        <button class="filter-btn" data-filter="Bielik">Bielik</button>
      </div>
      <div class="search-wrap">
        <input type="text" class="search-input" id="search-input" placeholder="Szukaj newsÃ³w..." />
        <span class="search-icon">ğŸ”</span>
      </div>
      <div style="position:relative;flex-shrink:0" id="lang-wrap">
        <button class="header-cta" style="background:transparent;border:1px solid var(--border);color:var(--text2)" onclick="toggleLangMenu()">ğŸŒ <span id="lang-label">PL</span></button>
        <div id="lang-menu" style="display:none;position:absolute;top:44px;right:0;background:#0a0a12;border:1px solid var(--border2);border-radius:12px;overflow:hidden;z-index:200;min-width:140px">
          <div class="lang-opt" onclick="setLang('pl')">ğŸ‡µğŸ‡± Polski</div>
          <div class="lang-opt" onclick="setLang('en')">ğŸ‡¬ğŸ‡§ English</div>
          <div class="lang-opt" onclick="setLang('de')">ğŸ‡©ğŸ‡ª Deutsch</div>
          <div class="lang-opt" onclick="setLang('fr')">ğŸ‡«ğŸ‡· FranÃ§ais</div>
          <div class="lang-opt" onclick="setLang('es')">ğŸ‡ªğŸ‡¸ EspaÃ±ol</div>
        </div>
      </div>
      <button class="header-cta" id="btn-contact" onclick="window.open('https://www.mediafy.com.pl/o-nas','_blank')">Napisz do nas</button>
      <button class="header-cta" id="btn-about" style="background:transparent;border:1px solid var(--border);color:var(--text2);margin-left:-8px" onclick="showAbout()">O projekcie</button>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" id="hero-section">
    <div class="hero-badge">
      <div class="hero-badge-dot"></div>
      Posty na blogu
    </div>
    <div class="hero-badge" style="margin-left:8px;border-color:rgba(16,163,127,0.25);background:rgba(16,163,127,0.08)">
      <div class="hero-badge-dot" style="background:#10a37f"></div>
      <span style="color:#10a37f">100% automat â€” Å¼aden czÅ‚owiek tego nie publikujÄ™</span>
    </div>
    <h1>Najnowsze newsy AI<br><span class="dim">na Å¼ywo, bez filtrÃ³w</span></h1>
    <p>BÄ…dÅº na bieÅ¼Ä…co z najwaÅ¼niejszymi wiadomoÅ›ciami ze Å›wiata AI â€“ OpenAI, Google, Anthropic, xAI i innych. Bez bullshitu.<br><span style="font-size:0.82rem;color:var(--text3);margin-top:8px;display:block">ğŸ“¡ WiadomoÅ›ci generowane automatycznie przez Auto-JeÅ¼a</span></p>
    <div class="hero-stats">
      <div class="hero-stat">
        <div class="hero-stat-num" id="stat-total">0<span>+</span></div>
        <div class="hero-stat-label">ArtykuÅ‚Ã³w</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-num" id="stat-companies">0</div>
        <div class="hero-stat-label">Firm AI</div>
      </div>
      <div class="hero-stat">
        <div class="hero-stat-num" id="stat-today">0</div>
        <div class="hero-stat-label">DziÅ› dodano</div>
      </div>
    </div>
  </section>

  <!-- FILTER BAR -->
  <div class="filter-bar" id="filter-bar">
    <button class="tag-btn active" data-filter="all">Wszystkie <span class="tag-count" id="count-all">0</span></button>
    <button class="tag-btn" data-filter="OpenAI">OpenAI <span class="tag-count" id="count-OpenAI">0</span></button>
    <button class="tag-btn" data-filter="Google">Google <span class="tag-count" id="count-Google">0</span></button>
    <button class="tag-btn" data-filter="Anthropic">Anthropic <span class="tag-count" id="count-Anthropic">0</span></button>
    <button class="tag-btn" data-filter="xAI">xAI <span class="tag-count" id="count-xAI">0</span></button>
    <button class="tag-btn" data-filter="Microsoft">Microsoft <span class="tag-count" id="count-Microsoft">0</span></button>
    <button class="tag-btn" data-filter="Meta">Meta <span class="tag-count" id="count-Meta">0</span></button>
    <button class="tag-btn" data-filter="Qwen">Qwen <span class="tag-count" id="count-Qwen">0</span></button>
    <button class="tag-btn" data-filter="Bielik">ğŸ‡µğŸ‡± Bielik <span class="tag-count" id="count-Bielik">0</span></button>
    <span class="search-info" id="search-info" style="display:none">Wyniki dla: <span id="search-query"></span></span>
    <button class="random-btn" onclick="openRandomArticle()" title="Losowy artykuÅ‚">ğŸ² Losuj</button>
  </div>

  <!-- MAIN -->
  <main>
    <div id="list-view">
      <div class="posts-grid" id="posts-grid">
        <div class="loading">
          <div class="dot"></div><div class="dot"></div><div class="dot"></div>
          <span>Åadowanie wpisÃ³w...</span>
        </div>
      </div>
      <div class="pagination" id="pagination"></div>
    </div>

    <div id="article-view">
      <div class="article-top-bar">
        <div class="article-back" id="back-btn">â† WrÃ³Ä‡ do newsÃ³w</div>
        <div class="article-share">
          <button class="share-btn" id="share-x">ğ• UdostÄ™pnij</button>
          <button class="share-btn" id="share-li">in LinkedIn</button>
          <button class="share-btn" id="copy-link">ğŸ”— Kopiuj link</button>
        </div>
      </div>
      <div id="article-image-wrap"></div>
      <div class="article-header">
        <div class="article-meta" id="article-meta"></div>
        <h1 class="article-title" id="article-title"></h1>
        <div class="article-engagement" id="article-engagement" style="display:none">
          <span class="eng-views" id="eng-views">ğŸ‘ Å‚adowanie...</span>
          <span class="eng-sep">Â·</span>
          <button class="eng-like" id="eng-like" onclick="toggleLike()">
            <span id="like-icon">ğŸ¤</span>
            <span id="like-count">0</span>
          </button>
        </div>
      </div>
      <div class="article-content" id="article-content"></div>
      <div class="related-section" id="related-section" style="display:none">
        <div class="related-label">WiÄ™cej z tej samej firmy</div>
        <div class="related-grid" id="related-grid"></div>
      </div>
    </div>
  </main>

  <!-- NEWSLETTER -->
  <div class="newsletter-section" id="newsletter-section">
    <div class="newsletter-box">
      <div class="newsletter-left">
        <div class="newsletter-label">ğŸ“¬ Newsletter</div>
        <div class="newsletter-title">AI news prosto na maila</div>
        <div class="newsletter-sub">Å»adnego spamu. Tylko najwaÅ¼niejsze newsy ze Å›wiata AI, automatycznie gdy siÄ™ pojawiÄ….</div>
      </div>
      <div>
        <div class="newsletter-form" id="newsletter-form">
          <input type="email" class="newsletter-input" id="newsletter-email" placeholder="twoj@email.pl" />
          <button class="newsletter-submit" onclick="submitNewsletter()">Zapisz siÄ™ â†’</button>
        </div>
        <div class="newsletter-success" id="newsletter-success">âœ“ Zapisano! SprawdÅº skrzynkÄ™.</div>
      </div>
    </div>
  </div>

  <!-- ABOUT VIEW -->
  <div id="about-view">
    <main>
      <div class="article-top-bar">
        <div class="article-back" onclick="showList()">â† WrÃ³Ä‡ do newsÃ³w</div>
      </div>
      <div class="about-section">

        <h2>SkÄ…d pomysÅ‚ na TVAI?</h2>
        <p>ZaczÄ™Å‚o siÄ™ od frustracji. LubiÄ™ Å›ledziÄ‡ co dzieje siÄ™ w Å›wiecie AI â€” ale sprawdzanie po kolei blogÃ³w OpenAI, Google, Anthropic i reszty zajmuje wiecznoÅ›Ä‡. Wpisy sÄ… dÅ‚ugie, po angielsku i zamiast konkretÃ³w majÄ… kilka akapitÃ³w wstÄ™pu zanim dojdziesz do sedna.</p>
        <p>ZaczÄ…Å‚em wiÄ™c dzwoniÄ‡ do agencji social media z pytaniem czy mogÄ… to ogarniaÄ‡ za mnie â€” <strong>monitorowaÄ‡ newsy z kilku firm AI i wstawiaÄ‡ je tego samego dnia, napisane po polsku, z infografikÄ….</strong> OdpowiedÅº byÅ‚a zawsze ta sama: moÅ¼liwe, ale drogo i z kilkudniowym opÃ³Åºnieniem. News z dziÅ› o 13:00 wylÄ…duje u Ciebie za 3 dni. Bez sensu.</p>
        <p>Wtedy zobaczyÅ‚em gdzie jest luka.</p>

        <h2>Biuletyn na LinkedIn â€” i dlaczego to nie wypalaÅ‚o</h2>
        <p>Najpierw stworzyÅ‚em biuletyn na LinkedIn â€” tylko o newsach OpenAI. DziaÅ‚aÅ‚o, ale pojawiÅ‚ siÄ™ problem: kaÅ¼dy wpis w biuletynie to teÅ¼ post na profilu. Przy 2â€“3 newsach dziennie tylko z jednej firmy <strong>mÃ³j profil zamieniaÅ‚ siÄ™ w Å›mietnik</strong> â€” grafiki AI i newsy przykrywaÅ‚y wszystko inne. Inne posty ginÄ™Å‚y.</p>
        <p>A to byÅ‚ tylko OpenAI. Ja chciaÅ‚em Å›ledziÄ‡ 5â€“6 firm.</p>
        <p>PrzeniosÅ‚em biuletyn na konto firmowe Mediafy â€” ale LinkedIn wymaga 150 obserwujÄ…cych Å¼eby prowadziÄ‡ biuletyn firmowy. Tyle nie mieliÅ›my. Åšlepy zauÅ‚ek.</p>
        <p>StworzyÅ‚em teÅ¼ postaÄ‡ <strong>Auto-JeÅ¼a</strong> â€” ale tu teÅ¼ zgrzyt. Mediafy to firma ktÃ³rÄ… nie prowadzÄ™ sam, wiÄ™c wrzucanie na profil firmowy samych newsÃ³w AI i grafik generowanych automatycznie Å›rednio pasowaÅ‚o do caÅ‚oÅ›ci.</p>

        <h2>RozwiÄ…zanie: wÅ‚asna strona</h2>
        <p>Zamiast walczyÄ‡ z ograniczeniami platform â€” stworzyÅ‚em TVAI. Osobna strona, poza LinkedIn, poza profilem firmowym. Miejsce gdzie <strong>ktoÅ› zainteresowany AI moÅ¼e wejÅ›Ä‡ i bez szukania po caÅ‚ym internecie przeczytaÄ‡ najnowszy news od wybranej przez siebie firmy</strong> â€” po polsku, krÃ³tko i na temat.</p>
        <p>CaÅ‚y proces jest w 100% automatyczny. News pojawia siÄ™, agent go znajduje, pisze artykuÅ‚, generuje grafikÄ™ i publikuje â€” bez udziaÅ‚u czÅ‚owieka. To samo co agencje wyceniajÄ… na setki zÅ‚otych miesiÄ™cznie i kilka dni czekania, tu dzieje siÄ™ w ciÄ…gu minut.</p>

        <h2>Chcesz coÅ› takiego dla swojej firmy?</h2>
        <p>TVAI to jeden z projektÃ³w ktÃ³re budujemy w <strong>Mediafy</strong> â€” Å¼eby pokazaÄ‡ co jest moÅ¼liwe z automatyzacjÄ… zamiast tylko o tym mÃ³wiÄ‡. Budujemy podobne systemy dla klientÃ³w: automatyczne blogi, newslettery, raporty, monitoring konkurencji.</p>
        <p>JeÅ›li chcesz wiedzieÄ‡ co moÅ¼emy zautomatyzowaÄ‡ u Ciebie â€” napisz.</p>
        <div class="about-links">
          <a class="about-link-btn primary" href="https://www.mediafy.com.pl/o-nas" target="_blank">Porozmawiajmy â†’</a>
          <a class="about-link-btn" href="https://www.mediafy.com.pl/" target="_blank">mediafy.com.pl</a>
          <a class="about-link-btn" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">LinkedIn Jerzy</a>
        </div>
      </div>
    </main>
  </div>
  
  <footer>
  Â© 2026 <strong style="color:var(--text2)">TVAI</strong> Â· <span id="footer-text">WiadomoÅ›ci AI Â· Automatycznie generowane przez Auto-JeÅ¼a</span> Â· <a href="https://www.mediafy.com.pl/" target="_blank">Produkt Mediafy</a>
  </footer>

  <button id="back-to-top" title="WrÃ³Ä‡ na gÃ³rÄ™">â†‘</button>
  <div id="read-progress"><div id="read-progress-fill"></div></div>
  <div id="read-progress-mobile"><div id="read-progress-mobile-fill"></div></div>

  <!-- LINKEDIN CARD -->
  <div id="li-card">
    <button id="li-close">âœ•</button>
    <div class="li-banner"><img src="BanerLinkedIn.png" alt="" onerror="this.style.display='none'"/></div>
    <div class="li-body">
      <div class="li-avatar-wrap">
        <img class="li-avatar" src="ProfiloweLinkedIn.png" alt="Jerzy Niewiadowski" onerror="this.src='https://ui-avatars.com/api/?name=Jerzy+Niewiadowski&background=2563eb&color=fff&size=80'"/>
      </div>
      <div class="li-info">
        <div class="li-name">Jerzy Niewiadowski</div>
        <div class="li-title">Co-Founder Mediafy</div>
        <div class="li-sub">WdraÅ¼amy Automatyzacje i Szkolenia AI dla LiderÃ³w Rynku</div>
        <div class="li-location">ğŸ“ PoznaÅ„, Polska</div>
      </div>
      <a class="li-btn" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">Obserwuj na LinkedIn</a>
    </div>
  </div>

  <!-- LINKEDIN TAB (visible when card is hidden) -->
  <div id="li-tab">
    <img id="li-tab-avatar" src="ProfiloweLinkedIn.png" alt="J" onerror="this.src='https://ui-avatars.com/api/?name=Jerzy&background=2563eb&color=fff&size=40'"/>
    <span>Jerzy Â· LinkedIn</span>
  </div>
  <!-- MACIEJ CARD -->
<div id="mac-card">
  <button id="mac-close">âœ•</button>
  <div class="li-banner"><img src="BanerLinkedIn.png" alt="" onerror="this.style.display='none'"/></div>
  <div class="li-body">
    <div class="li-avatar-wrap">
      <img class="li-avatar" src="maciejf.png" alt="Maciej Fidor" onerror="this.src='https://ui-avatars.com/api/?name=Maciej+Fidor&background=2563eb&color=fff&size=80'"/>
    </div>
    <div class="li-info">
      <div class="li-name">Maciej Fidor</div>
      <div class="li-title">CEO at Mediafy</div>
      <div class="li-sub">Automatyzacje AI | SaaS</div>
      <div class="li-location">ğŸ“ PoznaÅ„, Polska</div>
    </div>
    <a class="li-btn" href="https://www.linkedin.com/in/maciej-fidor-100850298/" target="_blank">Obserwuj na LinkedIn</a>
  </div>
</div>

<!-- MACIEJ TAB -->
<div id="mac-tab">
  <img id="mac-tab-avatar" src="maciejf.png" alt="M" onerror="this.src='https://ui-avatars.com/api/?name=Maciej&background=2563eb&color=fff&size=40'"/>
  <span>Maciej Â· LinkedIn</span>
</div>

  <script>
    // â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const GITHUB_USER  = 'AiMediafy';
    const GITHUB_REPO  = 'AUTO-JEZ';
    const BASE_URL     = `https://${GITHUB_USER}.github.io/${GITHUB_REPO}`;
    const POSTS_PER_PAGE = 9;

    // â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    let allPosts     = [];
    let activeFilter = 'all';
    let searchQuery  = '';
    let currentPage  = 1;
    let currentSlug  = '';

    // â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function getBadgeClass(c) {
      return {
        OpenAI:    'badge-openai',
        Google:    'badge-google',
        Anthropic: 'badge-anthropic',
        xAI:       'badge-xai',
        Microsoft: 'badge-microsoft',
        Meta:      'badge-meta',
        Qwen:      'badge-qwen',
        Bielik:    'badge-bielik'
      }[c] || 'badge-default';
    }
    function getCompanyColor(c) {
      return {
        OpenAI:    '#10a37f',
        Google:    '#EA4335',
        Anthropic: '#d97757',
        xAI:       '#E0E0E0',
        Microsoft: '#FFB900',
        Meta:      '#0082FB',
        Qwen:      '#6037db',
        Bielik:    '#DC143C'
      }[c] || '#8080a0';
    }
    function formatDate(str) {
      if (!str) return '';
      const locales = { pl:'pl-PL', en:'en-GB', de:'de-DE', fr:'fr-FR', es:'es-ES' };
      return new Date(str).toLocaleDateString(locales[currentLang] || 'pl-PL', { day:'numeric', month:'long', year:'numeric' });
    }
    function readTime(text) {
      return Math.max(1, Math.round((text||'').split(/\s+/).length / 200)) + ' min';
    }
    function parseFrontmatter(md) {
      const m = md.match(/^---\n([\s\S]*?)\n---\n([\s\S]*)$/);
      if (!m) return { meta:{}, content:md };
      const meta = {};
      m[1].split('\n').forEach(line => {
        const [k,...v] = line.split(':');
        if (k) meta[k.trim()] = v.join(':').trim().replace(/^["']|["']$/g,'');
      });
      return { meta, content:m[2] };
    }

    // â”€â”€ OG TAGS UPDATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function updateOG({ title, desc, image, url }) {
      document.getElementById('page-title').textContent = title;
      document.getElementById('meta-desc').setAttribute('content', desc);
      document.getElementById('og-title').setAttribute('content', title);
      document.getElementById('og-desc').setAttribute('content', desc);
      document.getElementById('og-url').setAttribute('content', url);
      document.getElementById('tw-title').setAttribute('content', title);
      document.getElementById('tw-desc').setAttribute('content', desc);
      if (image) {
        document.getElementById('og-image').setAttribute('content', image);
        document.getElementById('tw-image').setAttribute('content', image);
      }
    }

    // â”€â”€ TICKER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function buildTicker(posts) {
      const track = document.getElementById('ticker-track');
      if (!posts.length) { document.getElementById('ticker-wrap').style.display='none'; return; }
      const items = posts.map(p =>
        `<span class="ticker-item" onclick="openArticle('${p.slug}')">
          <span class="ticker-dot" style="background:${getCompanyColor(p.company)}"></span>
          <strong style="color:${getCompanyColor(p.company)};font-size:0.7rem;text-transform:uppercase;letter-spacing:0.06em">${p.company}</strong>
          ${p.title}
        </span>`);
      track.innerHTML = [...items,...items].join('');

      const latest = posts[0];
      if (latest && latest.date) {
        const t = T[currentLang];
        const postTime = new Date(latest.datetime || latest.date + 'T12:00:00');
        const diffMs = Date.now() - postTime;
        const diffMin = Math.floor(diffMs / 60000);
        const diffH = Math.floor(diffMs / 3600000);
        const diffD = Math.floor(diffMs / 86400000);
        const timeStr = diffMin < 1 ? 'przed chwilÄ…' 
          : diffMin < 60 ? `${diffMin} min temu`
          : diffH < 24 ? `${diffH}h temu`
          : `${diffD}d temu`;
        document.getElementById('ticker-time').innerHTML = `Ostatni: <span>${timeStr}</span>`;
      }
    }

    // â”€â”€ COUNTS + STATS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function updateCounts(posts) {
      posts = posts.filter(p => p.slug && !p.slug.endsWith('-en'));
      document.getElementById('count-all').textContent = posts.length;
      ['OpenAI','Google','Anthropic','xAI','Microsoft','Meta','Qwen','Bielik'].forEach(c => {
        const el = document.getElementById('count-'+c);
        if (el) el.textContent = posts.filter(p=>p.company===c).length;
      });
      document.getElementById('stat-total').innerHTML = posts.length + '<span>+</span>';
      const companies = new Set(posts.map(p=>p.company).filter(Boolean)).size;
      document.getElementById('stat-companies').textContent = companies;
      const today = new Date().toISOString().split('T')[0];
      const todayCount = posts.filter(p => p.date === today).length;
      document.getElementById('stat-today').textContent = todayCount;
    }

    // â”€â”€ FILTERED POSTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function getFiltered() {
      let posts = (activeFilter === 'all' ? allPosts : allPosts.filter(p => p.company === activeFilter))
        .filter(p => p.slug && !p.slug.endsWith('-en'));
      if (searchQuery) {
        const q = searchQuery.toLowerCase();
        posts = posts.filter(p =>
          (p.title||'').toLowerCase().includes(q) ||
          (p.summary||'').toLowerCase().includes(q) ||
          (p.company||'').toLowerCase().includes(q)
        );
      }
      return posts;
    }

    // â”€â”€ RENDER LIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderList() {
      const grid = document.getElementById('posts-grid');
      const filtered = getFiltered();
      const totalPages = Math.ceil(filtered.length / POSTS_PER_PAGE);
      if (currentPage > totalPages) currentPage = 1;

      const start = (currentPage - 1) * POSTS_PER_PAGE;
      const pagePosts = filtered.slice(start, start + POSTS_PER_PAGE);

      if (!pagePosts.length) {
        grid.innerHTML = `<div class="empty-state"><p style="font-size:2rem">${searchQuery ? 'ğŸ”' : 'ğŸ¤·'}</p><p>${searchQuery ? `Brak wynikÃ³w dla "${searchQuery}"` : 'Brak wpisÃ³w dla wybranego filtra.'}</p></div>`;
        renderPagination(0, 0);
        return;
      }

      grid.innerHTML = pagePosts.map((post, i) => {
        const badgeClass = getBadgeClass(post.company);
        const today = new Date().toISOString().split('T')[0];
        const isToday = post.date === today;
        const imageHtml = post.image
          ? `<div class="card-image-wrap"><img src="${post.image}" alt="${post.title}" loading="lazy" onerror="this.parentNode.innerHTML='<div class=\\'card-placeholder\\'><span class=\\'card-placeholder-label\\'>${post.company||'AI'}</span></div>'"/></div>`
          : `<div class="card-image-wrap"><div class="card-placeholder"><span class="card-placeholder-label">${post.company||'AI'}</span></div></div>`;
        return `
          <div class="post-card${isToday?' today':''}" onclick="openArticle('${post.slug}')" style="animation-delay:${i*0.04}s">
            ${imageHtml}
            <div class="card-body">
              <div class="card-top">
                <span class="company-badge ${badgeClass}">${post.company||'AI'}</span>
                <span class="card-date">${isToday ? `<span class="today-badge"><span class="today-dot"></span>${T[currentLang].today}</span>` : formatDate(post.date)}</span>
              </div>
              <div class="card-title">${post.title}</div>
              <div class="card-summary">${post.summary||''}</div>
              <div class="card-footer">
                <span class="read-more">${T[currentLang].readMore}</span>
                <span class="read-time views-count" id="views-${post.slug}">ğŸ‘ ...</span>
              </div>
            </div>
          </div>`;
      }).join('');

      renderPagination(totalPages, filtered.length);
      fetchCardViews(pagePosts);
    }

    async function fetchCardViews(posts) {
      for (const post of posts) {
        const el = document.getElementById('views-' + post.slug);
        if (!el) continue;
        try {
          const res = await fetch('https://api.countapi.xyz/get/tvai-views/' + post.slug);
          const data = await res.json();
          el.textContent = data.value ? 'ğŸ‘ ' + data.value : 'ğŸ‘ 0';
        } catch(e) {
          el.textContent = '';
        }
      }
    }

    // â”€â”€ PAGINATION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderPagination(totalPages, total) {
      const el = document.getElementById('pagination');
      if (totalPages <= 1) { el.innerHTML = ''; return; }
      const t = T[currentLang];

  let html = `<button class="page-btn" onclick="goPage(${currentPage-1})" ${currentPage===1?'disabled':''}>${t.prevPage}</button>`;
  for (let i = 1; i <= totalPages; i++) {
    if (i === 1 || i === totalPages || Math.abs(i - currentPage) <= 1) {
      html += `<button class="page-btn${i===currentPage?' active':''}" onclick="goPage(${i})">${i}</button>`;
    } else if (Math.abs(i - currentPage) === 2) {
      html += `<span style="color:var(--text3);padding:0 4px">â€¦</span>`;
    }
  }
  html += `<button class="page-btn" onclick="goPage(${currentPage+1})" ${currentPage===totalPages?'disabled':''}>${t.nextPage}</button>`;
  el.innerHTML = html;
}

    function goPage(page) {
      currentPage = page;
      renderList();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // â”€â”€ OPEN ARTICLE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function openArticle(slug) {
      currentSlug = slug;
      document.getElementById('list-view').style.display = 'none';
      document.getElementById('hero-section').style.display = 'none';
      document.getElementById('filter-bar').style.display = 'none';
      document.getElementById('newsletter-section').style.display = 'none';
      document.getElementById('about-view').style.display = 'none';
      document.getElementById('article-view').style.display = 'block';
      document.getElementById('article-content').innerHTML = `<div class="loading"><div class="dot"></div><div class="dot"></div><div class="dot"></div><span>${T[currentLang].loadingArt}</span></div>`;
      window.scrollTo({ top: 0, behavior: 'smooth' });
      history.pushState({ slug }, '', `#${slug}`);

      try {
        const res = await fetch(`posts/${slug}.md`);
        if (!res.ok) throw new Error();
        const raw = await res.text();
        const { meta, content } = parseFrontmatter(raw);
        const badgeClass = getBadgeClass(meta.company);
        const articleUrl = `${BASE_URL}#${slug}`;
        const imageUrl = meta.image ? `${BASE_URL}/${meta.image}` : null;

        updateOG({
          title: `${meta.title} â€“ TVAI`,
          desc: meta.summary || '',
          image: imageUrl,
          url: articleUrl
        });

        const imgWrap = document.getElementById('article-image-wrap');
        imgWrap.innerHTML = meta.image
          ? `<img class="article-hero" src="${meta.image}" alt="${meta.title}" onerror="this.style.display='none'"/>`
          : `<div class="article-hero-ph"></div>`;

     document.getElementById('article-meta').innerHTML = `
        <span class="company-badge ${badgeClass}">${meta.company||'AI'}</span>
        <span style="font-size:0.8rem;color:var(--text3)">${formatDate(meta.date)}</span>
        <span style="font-size:0.8rem;color:var(--text3)">${readTime(content)}</span>
        <span class="auto-badge">${T[currentLang].autoAI}</span>`;
        
    const langBtn = document.createElement('button');
        langBtn.className = 'lang-switch-btn';
        langBtn.id = 'lang-switch-btn';
        langBtn.style.display = 'none';
        langBtn.onclick = switchArticleLang;
        document.getElementById('article-meta').appendChild(langBtn);

        document.getElementById('article-title').textContent = meta.title || slug;
        document.getElementById('article-content').innerHTML = marked.parse(content);
        trackView(slug);
        trackArticleRead();
        updateLangSwitchBtn(slug);
        renderRelated(slug, meta.company);
        progressBar.style.display = 'block';
        progressMobile.style.display = 'block';
        progressFill.style.height = '0%';
        progressMobileFill.style.height = '0%';

        document.getElementById('share-x').onclick = () =>
          window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(meta.title)}&url=${encodeURIComponent(articleUrl)}`, '_blank');
        document.getElementById('share-li').onclick = () =>
          window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(articleUrl)}`, '_blank');
        document.getElementById('copy-link').onclick = () => {
          navigator.clipboard.writeText(articleUrl);
          const btn = document.getElementById('copy-link');
          btn.textContent = 'âœ“ Skopiowano!';
          btn.classList.add('copied');
          setTimeout(() => { btn.textContent = 'ğŸ”— Kopiuj link'; btn.classList.remove('copied'); }, 2000);
        };

      } catch(e) {
        document.getElementById('article-content').innerHTML = `<p style="color:#ef4444">${T[currentLang].loadError}</p>`;
      }
    }

    // â”€â”€ BACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function showList() {
      document.getElementById('list-view').style.display = 'block';
      document.getElementById('hero-section').style.display = 'block';
      document.getElementById('filter-bar').style.display = 'flex';
      document.getElementById('newsletter-section').style.display = 'block';
      document.getElementById('article-view').style.display = 'none';
      document.getElementById('about-view').style.display = 'none';
      progressBar.style.display = 'none';
      progressMobile.style.display = 'none';
      history.pushState({}, '', window.location.pathname);
      updateOG({
        title: 'TVAI â€“ WiadomoÅ›ci AI',
        desc: 'Najnowsze newsy ze Å›wiata AI â€“ OpenAI, Google, Anthropic, xAI i inne. Pisane po ludzku.',
        url: BASE_URL
      });
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // â”€â”€ SEARCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function handleSearch(val) {
      searchQuery = val.trim();
      currentPage = 1;
      const info = document.getElementById('search-info');
      if (searchQuery) {
        info.style.display = 'inline-flex';
        document.getElementById('search-query').textContent = `"${searchQuery}"`;
      } else {
        info.style.display = 'none';
      }
      renderList();
    }

    document.getElementById('search-input').addEventListener('input', e => handleSearch(e.target.value));
    document.getElementById('search-input-mobile').addEventListener('input', e => {
      document.getElementById('search-input').value = e.target.value;
      handleSearch(e.target.value);
    });

    // â”€â”€ VIEWS + LIKES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function hasLiked(slug) {
      try { return JSON.parse(localStorage.getItem('tvai_likes') || '{}')[slug] || false; } catch(e) { return false; }
    }
    function setLiked(slug) {
      try {
        const likes = JSON.parse(localStorage.getItem('tvai_likes') || '{}');
        likes[slug] = true;
        localStorage.setItem('tvai_likes', JSON.stringify(likes));
      } catch(e) {}
    }

    async function toggleLike() {
      const slug = currentSlug;
      if (hasLiked(slug)) return;
      setLiked(slug);
      const btn = document.getElementById('eng-like');
      const icon = document.getElementById('like-icon');
      btn.classList.add('liked');
      icon.textContent = 'â¤ï¸';
      btn.disabled = true;
      try {
        const res = await fetch(`https://api.countapi.xyz/hit/tvai-likes/${slug}`);
        const data = await res.json();
        document.getElementById('like-count').textContent = data.value;
      } catch(e) {}
    }

    async function trackView(slug) {
      const eng = document.getElementById('article-engagement');
      const viewsEl = document.getElementById('eng-views');
      const likeBtn = document.getElementById('eng-like');
      const icon = document.getElementById('like-icon');
      eng.style.display = 'flex';

      if (hasLiked(slug)) {
        likeBtn.classList.add('liked');
        icon.textContent = 'â¤ï¸';
        likeBtn.disabled = true;
      }

      try {
        const [viewRes, likeRes] = await Promise.all([
          fetch(`https://api.countapi.xyz/hit/tvai-views/${slug}`),
          fetch(`https://api.countapi.xyz/get/tvai-likes/${slug}`)
        ]);
        const viewData = await viewRes.json();
        const likeData = await likeRes.json();
        viewsEl.textContent = `ğŸ‘ ${viewData.value} ${T[currentLang].views}`;
        document.getElementById('like-count').textContent = likeData.value || 0;
      } catch(e) {
        viewsEl.textContent = `ğŸ‘ â€” ${T[currentLang].views}`;
      }
    }

    // â”€â”€ READING PROGRESS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const progressBar = document.getElementById('read-progress');
    const progressFill = document.getElementById('read-progress-fill');
    const progressMobile = document.getElementById('read-progress-mobile');
    const progressMobileFill = document.getElementById('read-progress-mobile-fill');

    window.addEventListener('scroll', () => {
      if (document.getElementById('article-view').style.display === 'none') return;
      const start = document.getElementById('article-meta');
      const end = document.getElementById('article-content');
      if (!start || !end) return;

      const startY = start.getBoundingClientRect().top + window.scrollY;
      const endY = end.getBoundingClientRect().bottom + window.scrollY;
      const scrollable = (endY - window.innerHeight) - startY;
      const scrolled = window.scrollY - startY;
      const pct = Math.min(100, Math.max(0, (scrolled / scrollable) * 100));
      progressFill.style.height = pct + '%';

      const totalHeight = document.documentElement.scrollHeight - window.innerHeight;
      const mobilePct = totalHeight > 0 ? Math.min(100, (window.scrollY / totalHeight) * 100) : 0;
      progressMobileFill.style.height = mobilePct + '%';
    });

    // â”€â”€ RELATED ARTICLES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function renderRelated(currentSlug, company) {
      const related = allPosts.filter(p => p.company === company && p.slug !== currentSlug).slice(0, 3);
      const section = document.getElementById('related-section');
      const grid = document.getElementById('related-grid');
      if (!related.length) { section.style.display = 'none'; return; }
      section.style.display = 'block';
      grid.innerHTML = related.map(p => `
        <div class="related-card" onclick="openArticle('${p.slug}')">
          ${p.image
            ? `<img class="related-img" src="${p.image}" alt="${p.title}" loading="lazy" onerror="this.style.display='none'"/>`
            : `<div class="related-img" style="display:flex;align-items:center;justify-content:center;background:var(--bg3)"><span style="font-size:0.65rem;color:var(--text3);text-transform:uppercase;letter-spacing:0.1em">${p.company}</span></div>`
          }
          <div class="related-body">
            <div class="related-title">${p.title}</div>
            <div class="related-meta">${formatDate(p.date)}</div>
          </div>
        </div>`).join('');
    }

    function openRandomArticle() {
      if (!allPosts.length) return;
      const filtered = allPosts.filter(p => p.slug && !p.slug.endsWith('-en'));
      const random = filtered[Math.floor(Math.random() * filtered.length)];
      openArticle(random.slug);
    }

    // â”€â”€ NEWSLETTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function submitNewsletter() {
      const email = document.getElementById('newsletter-email').value.trim();
      if (!email || !email.includes('@')) {
        document.getElementById('newsletter-email').style.borderColor = '#ef4444';
        return;
      }
      // otwieramy modal preferencji
      document.getElementById('nl-modal-overlay').classList.add('visible');
    }

    function closeNlModal() {
      const email = document.getElementById('newsletter-email').value.trim();
      sendToWebhook(email, ['OpenAI','Google','Anthropic','xAI','Microsoft','Meta','Qwen','Bielik'], ['top5','raport']);
    }

    function confirmNewsletter() {
      const email = document.getElementById('newsletter-email').value.trim();
      const firms = [...document.querySelectorAll('#nl-firms .nl-chip.selected')].map(c => c.dataset.value);
      const extras = [...document.querySelectorAll('#nl-extras .nl-chip.selected')].map(c => c.dataset.value);
      sendToWebhook(email, firms, extras);
    }

    function sendToWebhook(email, firms, extras) {
      document.getElementById('nl-modal-overlay').classList.remove('visible');
      document.getElementById('newsletter-form').style.display = 'none';
      const successEl = document.getElementById('newsletter-success');
      successEl.textContent = T[currentLang].newsSuccess;
      successEl.style.display = 'flex';
      // TODO: zamieÅ„ URL na swÃ³j webhook n8n
      fetch('https://mediafy-sparta.app.n8n.cloud/webhook/newsletter-signup', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, firms, extras })
      }).catch(() => {});
    }

    // chip toggle
    document.addEventListener('click', e => {
      const chip = e.target.closest('.nl-chip');
      if (!chip) return;
      chip.classList.toggle('selected');
    });

    

    // â”€â”€ ABOUT PAGE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function showAbout() {
      document.getElementById('list-view').style.display = 'none';
      document.getElementById('hero-section').style.display = 'none';
      document.getElementById('filter-bar').style.display = 'none';
      document.getElementById('newsletter-section').style.display = 'none';
      document.getElementById('article-view').style.display = 'none';
      document.getElementById('about-view').style.display = 'block';
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    ['nav-pill','filter-bar'].forEach(id => {
      document.getElementById(id).addEventListener('click', e => {
        const btn = e.target.closest('button[data-filter]');
        if (!btn) return;
        const filter = btn.dataset.filter;
        document.querySelectorAll('button[data-filter]').forEach(b => {
          b.classList.toggle('active', b.dataset.filter === filter);
        });
        activeFilter = filter;
        currentPage = 1;
        renderList();
      });
    });

    document.getElementById('logo-btn').addEventListener('click', showList);
    document.getElementById('back-btn').addEventListener('click', showList);

    // â”€â”€ BACK TO TOP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const btt = document.getElementById('back-to-top');
    window.addEventListener('scroll', () => btt.classList.toggle('visible', window.scrollY > 400));
    btt.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // â”€â”€ POPSTATE (back button) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    window.addEventListener('popstate', () => {
      const hash = window.location.hash.replace('#', '');
      if (hash) openArticle(hash);
      else showList();
    });

    // â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    async function init() {
      try {
        const controller = new AbortController();
        const timeout = setTimeout(() => controller.abort(), 8000);
        const res = await fetch('posts.json', { signal: controller.signal });
        clearTimeout(timeout);
        if (!res.ok) throw new Error('HTTP ' + res.status);
        const text = await res.text();
        allPosts = JSON.parse(text);
        if (!Array.isArray(allPosts)) allPosts = [];
        allPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
      } catch(e) {
        allPosts = [];
        document.getElementById('posts-grid').innerHTML = `
          <div class="empty-state">
            <p style="font-size:2rem">ğŸ“¡</p>
            <p>BÅ‚Ä…d Å‚adowania: ${e.message}</p>
          </div>`;
        return;
      }

      buildTicker(allPosts);
      updateCounts(allPosts);

      const hash = window.location.hash.replace('#', '');
      if (hash && hash !== 'wypisano') { renderList(); openArticle(hash); }
      else renderList();
      // Unsubscribe detection
  const _urlParams = new URLSearchParams(window.location.search);
  const _unsubEmail = _urlParams.get('unsub');
  if (_unsubEmail) {
  applyUnsubLang();
  const emailEl = document.getElementById('unsub-email');
  if (emailEl) emailEl.value = _unsubEmail;
  document.getElementById('unsub-overlay').style.display = 'flex';
  history.replaceState({}, '', window.location.pathname);
  fetch('https://mediafy-sparta.app.n8n.cloud/webhook/newsletter-unsubscribe?email=' + encodeURIComponent(_unsubEmail)).catch(()=>{});
}
if (window.location.hash === '#wypisano') {
  applyUnsubLang();
  document.getElementById('unsub-overlay').style.display = 'flex';
  history.replaceState({}, '', window.location.pathname);
}
}
    
    // â”€â”€ ARTICLE LANG SWITCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function switchArticleLang() {
      const isEN = currentSlug.endsWith('-en');
      openArticle(isEN ? currentSlug.replace(/-en$/, '') : currentSlug + '-en');
    }
    
    function updateLangSwitchBtn(slug) {
      const btn = document.getElementById('lang-switch-btn');
      const isEN = slug.endsWith('-en');
      const baseSlug = isEN ? slug.replace(/-en$/, '') : slug;
      const enSlug = baseSlug + '-en';
      const hasEN = allPosts.some(p => p.slug === enSlug);
      const hasPL = allPosts.some(p => p.slug === baseSlug);
      
      if (isEN && hasPL) {
        btn.style.display = 'inline-flex';
        btn.textContent = 'Czytaj po polsku';
      } else if (!isEN && hasEN) {
        btn.style.display = 'inline-flex';
        btn.textContent = 'Read in English';
      } else {
        btn.style.display = 'none';
      }
    }

    // â”€â”€ LINKEDIN CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    try {
      // JERZY
      const card = document.getElementById('li-card');
      const tab  = document.getElementById('li-tab');
      const closeBtn = document.getElementById('li-close');
      const bttBtn = document.getElementById('back-to-top');

      // MACIEJ â€” deklaracje PRZED uÅ¼yciem
      const macCard = document.getElementById('mac-card');
      const macTab  = document.getElementById('mac-tab');
      const macClose = document.getElementById('mac-close');

      function hideJerzy() {
        card.classList.remove('visible');
        card.classList.add('hiding');
        macTab.style.opacity = '1';
        macTab.style.pointerEvents = 'all';
        bttBtn.style.opacity = '1';
        bttBtn.style.pointerEvents = 'all';
      }
      function showJerzy() {
        hideMaciej();
        macTab.style.opacity = '0';
        macTab.style.pointerEvents = 'none';
        bttBtn.style.opacity = '0';
        bttBtn.style.pointerEvents = 'none';
        card.classList.remove('hiding');
        card.classList.add('visible');
      }

      closeBtn.addEventListener('click', hideJerzy);
      tab.addEventListener('click', showJerzy);

      setTimeout(() => {
        macTab.style.opacity = '0';
        macTab.style.pointerEvents = 'none';
        showJerzy();
        setTimeout(() => {
          hideJerzy();
          macTab.style.opacity = '1';
          macTab.style.pointerEvents = 'all';
        }, 6000);
      }, 3000);

      function hideMaciej() {
        macCard.classList.remove('visible');
        macCard.classList.add('hiding');
        bttBtn.style.opacity = '1';
        bttBtn.style.pointerEvents = 'all';
      }
      function showMaciej() {
        hideJerzy();
        bttBtn.style.opacity = '0';
        bttBtn.style.pointerEvents = 'none';
        macCard.classList.remove('hiding');
        macCard.classList.add('visible');
      }

      macClose.addEventListener('click', hideMaciej);
      macTab.addEventListener('click', showMaciej);

    } catch(e) {
      console.warn('LinkedIn card error:', e);
    }
    // â”€â”€ START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    // â”€â”€ TRANSLATIONS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    const T = {
  pl: {
    allPosts: 'Posty na blogu',
    unsubTitle: 'WypisaÅ‚eÅ› siÄ™ z newslettera',
    unsubSub: 'Nie bÄ™dziesz juÅ¼ dostawaÄ‡ wiadomoÅ›ci od TVAI. JeÅ›li to pomyÅ‚ka â€” moÅ¼esz zapisaÄ‡ siÄ™ ponownie poniÅ¼ej.',
    unsubFirms: 'ChcÄ™ dostawaÄ‡ alerty o firmach',
    unsubExtras: 'Dodatki',
    unsubEmailPh: 'twoj@email.pl',
    unsubResubBtn: 'Zapisz siÄ™ ponownie â†’',
    unsubCloseBtn: 'Zamknij bez zapisywania',
    unsubSuccessTitle: 'Zapisano ponownie!',
    unsubSuccessSub: 'SprawdÅº skrzynkÄ™ â€” juÅ¼ za chwilÄ™ dostaniesz maila powitalnego.',
    unsubSuccessBtn: 'Czytaj newsy â†’',
    prevPage: 'â† Poprzednia', nextPage: 'NastÄ™pna â†’',
    autoBadge: '100% automat â€” Å¼aden czÅ‚owiek tego nie publikuje',
    sgTitle: 'Hej, widzÄ™ Å¼e tu bywasz ğŸ‘€',
    sgSub: 'PrzeczytaÅ‚eÅ› juÅ¼ kilka artykuÅ‚Ã³w â€” jeÅ›li TVAI Ci siÄ™ podoba, zapisz siÄ™ na newsletter Å¼eby nic nie pominÄ…Ä‡. To w 100% automat â€” Å¼aden czÅ‚owiek tego nie wysyÅ‚a.',
    sgFeedbackLabel: 'Masz feedback?',
    sgFeedbackSub: 'To Å¼ywy projekt â€” rozwijam go sam i jestem wdziÄ™czny za kaÅ¼dy pomysÅ‚. Co mogÅ‚oby byÄ‡ lepiej? JakÄ… nowÄ… funkcjÄ™ chciaÅ‚byÅ› zobaczyÄ‡?',
    sgFeedbackLink: 'âœ‰ï¸ Napisz do mnie',
    sgFeedbackUrl: 'https://www.linkedin.com/in/jerzy-mediafy/',
    sgEmailPh: 'twoj@email.pl',
    sgBtn: 'Zapisz siÄ™ â†’',
    sgSkip: 'MoÅ¼e pÃ³Åºniej (zamknij na 24h)',
    h1a: 'Najnowsze newsy AI',
    h1b: 'na Å¼ywo, bez filtrÃ³w',
    heroP: 'BÄ…dÅº na bieÅ¼Ä…co z najwaÅ¼niejszymi wiadomoÅ›ciami ze Å›wiata AI â€“ OpenAI, Google, Anthropic, xAI i innych. Bez bullshitu.',
    heroSub: 'ğŸ“¡ WiadomoÅ›ci generowane automatycznie przez Auto-JeÅ¼a',
    statArt: 'ArtykuÅ‚Ã³w', statFirms: 'Firm AI', statToday: 'DziÅ› dodano',
    filterAll: 'Wszystkie', searchPh: 'Szukaj newsÃ³w...',
    readMore: 'Czytaj artykuÅ‚ â†’', today: 'DziÅ›',
    back: 'â† WrÃ³Ä‡ do newsÃ³w', backAbout: 'â† WrÃ³Ä‡ do newsÃ³w',
    shareX: 'ğ• UdostÄ™pnij', shareLi: 'in LinkedIn',
    copyLink: 'ğŸ”— Kopiuj link', copied: 'âœ“ Skopiowano!',
    autoAI: 'ğŸ¤– Wygenerowano przez AI',
    related: 'WiÄ™cej z tej samej firmy',
    random: 'ğŸ² Losuj',
    loading: 'Åadowanie wpisÃ³w...', loadingArt: 'Åadowanie...',
    nlModalTitle: 'Dostosuj swÃ³j newsletter ğŸ¯',
    nlModalSub: 'Wybierz co chcesz dostawaÄ‡ â€” tylko to co CiÄ™ interesuje, Å¼adnego spamu.',
    nlSectionFirms: 'Alerty o firmach',
    nlSectionExtras: 'Dodatki',
    nlTop5: 'ğŸ“Š Top 5 tygodnia',
    nlRaport: 'ğŸ“‹ Raport miesiÄ™czny',
    nlConfirm: 'Zapisz preferencje â†’',
    nlSkipAll: 'PomiÅ„ â€” zapisz mnie na wszystko',
    newsLabel: 'Newsletter', newsTitle: 'AI news prosto na maila',
    newsSub: 'Å»adnego spamu. Tylko najwaÅ¼niejsze newsy ze Å›wiata AI, automatycznie gdy siÄ™ pojawiÄ….',
    newsEmailPh: 'twoj@email.pl',
    newsBtn: 'Zapisz siÄ™ â†’', newsSuccess: 'âœ“ Zapisano! SprawdÅº skrzynkÄ™.',
    contact: 'Napisz do nas', about: 'O projekcie',
    searchResults: 'Wyniki dla:',
    noResults: 'Brak wynikÃ³w dla',
    noFilter: 'Brak wpisÃ³w dla wybranego filtra.',
    views: 'wyÅ›wietleÅ„',
    loadError: 'Nie udaÅ‚o siÄ™ zaÅ‚adowaÄ‡ artykuÅ‚u.',
    footer: 'WiadomoÅ›ci AI Â· Automatycznie generowane przez Auto-JeÅ¼a',
    tickerLabel: 'Ostatni wpis:',
    aboutHTML: `
<h2>SkÄ…d pomysÅ‚ na TVAI?</h2>
<p>ZaczÄ™Å‚o siÄ™ od frustracji. LubiÄ™ Å›ledziÄ‡ co dzieje siÄ™ w Å›wiecie AI â€” ale sprawdzanie po kolei blogÃ³w OpenAI, Google, Anthropic i reszty zajmuje wiecznoÅ›Ä‡. Wpisy sÄ… dÅ‚ugie, po angielsku i zamiast konkretÃ³w majÄ… kilka akapitÃ³w wstÄ™pu zanim dojdziesz do sedna.</p>
<p>ZaczÄ…Å‚em wiÄ™c dzwoniÄ‡ do agencji social media z pytaniem czy mogÄ… to ogarniaÄ‡ za mnie â€” <strong>monitorowaÄ‡ newsy z kilku firm AI i wstawiaÄ‡ je tego samego dnia, napisane po polsku, z infografikÄ….</strong> OdpowiedÅº byÅ‚a zawsze ta sama: moÅ¼liwe, ale drogo i z kilkudniowym opÃ³Åºnieniem. News z dziÅ› o 13:00 wylÄ…duje u Ciebie za 3 dni. Bez sensu.</p>
<p>Wtedy zobaczyÅ‚em gdzie jest luka.</p>
<h2>Biuletyn na LinkedIn â€” i dlaczego to nie wypalaÅ‚o</h2>
<p>Najpierw stworzyÅ‚em biuletyn na LinkedIn â€” tylko o newsach OpenAI. DziaÅ‚aÅ‚o, ale pojawiÅ‚ siÄ™ problem: kaÅ¼dy wpis w biuletynie to teÅ¼ post na profilu. Przy 2â€“3 newsach dziennie tylko z jednej firmy <strong>mÃ³j profil zamieniaÅ‚ siÄ™ w Å›mietnik</strong> â€” grafiki AI i newsy przykrywaÅ‚y wszystko inne.</p>
<p>PrzeniosÅ‚em biuletyn na konto firmowe Mediafy â€” ale LinkedIn wymaga 150 obserwujÄ…cych Å¼eby prowadziÄ‡ biuletyn firmowy. Åšlepy zauÅ‚ek.</p>
<p>StworzyÅ‚em teÅ¼ postaÄ‡ <strong>Auto-JeÅ¼a</strong> â€” ale tu teÅ¼ zgrzyt. Mediafy to firma ktÃ³rÄ… nie prowadzÄ™ sam, wiÄ™c wrzucanie na profil firmowy samych newsÃ³w AI Å›rednio pasowaÅ‚o.</p>
<h2>RozwiÄ…zanie: wÅ‚asna strona</h2>
<p>Zamiast walczyÄ‡ z ograniczeniami platform â€” stworzyÅ‚em TVAI. Miejsce gdzie <strong>ktoÅ› zainteresowany AI moÅ¼e wejÅ›Ä‡ i przeczytaÄ‡ najnowszy news</strong> â€” po polsku, krÃ³tko i na temat.</p>
<p>CaÅ‚y proces jest w 100% automatyczny. News pojawia siÄ™, agent go znajduje, pisze artykuÅ‚, generuje grafikÄ™ i publikuje â€” bez udziaÅ‚u czÅ‚owieka.</p>
<h2>Chcesz coÅ› takiego dla swojej firmy?</h2>
<p>TVAI to jeden z projektÃ³w ktÃ³re budujemy w <strong>Mediafy</strong> â€” Å¼eby pokazaÄ‡ co jest moÅ¼liwe z automatyzacjÄ…. Budujemy podobne systemy dla klientÃ³w: automatyczne blogi, newslettery, raporty, monitoring konkurencji.</p>
<p>JeÅ›li chcesz wiedzieÄ‡ co moÅ¼emy zautomatyzowaÄ‡ u Ciebie â€” napisz.</p>
<div class="about-links">
  <a class="about-link-btn primary" href="https://www.mediafy.com.pl/o-nas" target="_blank">Porozmawiajmy â†’</a>
  <a class="about-link-btn" href="https://www.mediafy.com.pl/" target="_blank">mediafy.com.pl</a>
  <a class="about-link-btn" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">LinkedIn Jerzy</a>
</div>`,
  },

  en: {
    allPosts: 'Blog Posts',
    prevPage: 'â† Previous', nextPage: 'Next â†’',
    unsubTitle: 'You have unsubscribed',
    unsubSub: "You won't receive any more messages from TVAI. If this was a mistake â€” you can re-subscribe below.",
    unsubFirms: 'I want alerts about companies',
    unsubExtras: 'Extras',
    unsubEmailPh: 'your@email.com',
    unsubResubBtn: 'Subscribe again â†’',
    unsubCloseBtn: 'Close without subscribing',
    unsubSuccessTitle: 'Subscribed again!',
    unsubSuccessSub: 'Check your inbox â€” you\'ll receive a welcome email shortly.',
    unsubSuccessBtn: 'Read news â†’',
    autoBadge: '100% automated â€” no human publishes this',
    sgTitle: 'Hey, I see you around here ğŸ‘€',
    sgSub: "You've read a few articles â€” if you enjoy TVAI, subscribe to the newsletter so you don't miss anything. It's 100% automated â€” no human sends this.",
    sgFeedbackLabel: 'Got feedback?',
    sgFeedbackSub: "This is a living project â€” I'm building it solo and I'm grateful for every idea. What could be better? What new feature would you like to see?",
    sgFeedbackLink: 'âœ‰ï¸ Write to me',
    sgFeedbackUrl: 'https://www.linkedin.com/in/jerzy-mediafy/',
    sgEmailPh: 'your@email.com',
    sgBtn: 'Subscribe â†’',
    sgSkip: 'Maybe later (close for 24h)',
    h1a: 'Latest AI News',
    h1b: 'live, unfiltered',
    heroP: 'Stay up to date with the most important news from the AI world â€“ OpenAI, Google, Anthropic, xAI and more. No fluff.',
    heroSub: 'ğŸ“¡ News automatically generated by Auto-JeÅ¼',
    statArt: 'Articles', statFirms: 'AI Companies', statToday: 'Added today',
    filterAll: 'All', searchPh: 'Search news...',
    readMore: 'Read article â†’', today: 'Today',
    back: 'â† Back to news', backAbout: 'â† Back to news',
    shareX: 'ğ• Share', shareLi: 'in LinkedIn',
    copyLink: 'ğŸ”— Copy link', copied: 'âœ“ Copied!',
    autoAI: 'ğŸ¤– Generated by AI',
    related: 'More from the same company',
    random: 'ğŸ² Random',
    loading: 'Loading posts...', loadingArt: 'Loading...',
    nlModalTitle: 'Customize your newsletter ğŸ¯',
    nlModalSub: 'Choose what you want to receive â€” only what interests you, no spam.',
    nlSectionFirms: 'Company alerts',
    nlSectionExtras: 'Extras',
    nlTop5: 'ğŸ“Š Top 5 of the week',
    nlRaport: 'ğŸ“‹ Monthly report',
    nlConfirm: 'Save preferences â†’',
    nlSkipAll: 'Skip â€” subscribe me to everything',
    newsLabel: 'Newsletter', newsTitle: 'AI news straight to your inbox',
    newsSub: 'No spam. Only the most important AI news, automatically when they appear.',
    newsEmailPh: 'your@email.com',
    newsBtn: 'Subscribe â†’', newsSuccess: 'âœ“ Subscribed! Check your inbox.',
    contact: 'Contact us', about: 'About',
    searchResults: 'Results for:',
    noResults: 'No results for',
    noFilter: 'No posts for selected filter.',
    views: 'views',
    loadError: 'Failed to load the article.',
    footer: 'AI News Â· Automatically generated by Auto-JeÅ¼',
    tickerLabel: 'Latest post:',
    aboutHTML: `
<h2>How did TVAI come about?</h2>
<p>It started with frustration. I like keeping up with the AI world â€” but checking OpenAI, Google, Anthropic and the rest one by one takes forever. Posts are long, in English, and instead of getting to the point they have three paragraphs of intro first.</p>
<p>I started calling social media agencies asking if they could handle it for me â€” <strong>monitor news from several AI companies and post it the same day, written in Polish, with an infographic.</strong> The answer was always the same: possible, but expensive and with a few days' delay. Today's news at 1pm lands with you in 3 days. Pointless.</p>
<p>That's when I saw the gap.</p>
<h2>LinkedIn newsletter â€” and why it didn't work</h2>
<p>I first created a LinkedIn newsletter â€” just about OpenAI news. It worked, but a problem appeared: every newsletter post is also a profile post. With 2â€“3 news items daily from just one company, <strong>my profile turned into a mess</strong> â€” AI graphics and news buried everything else.</p>
<p>I moved the newsletter to the Mediafy company account â€” but LinkedIn requires 150 followers to run a company newsletter. We didn't have that. Dead end.</p>
<p>I also created the <strong>Auto-JeÅ¼</strong> character â€” but another snag. Mediafy is a company I don't run alone, so posting only AI news and auto-generated graphics on the company profile didn't really fit.</p>
<h2>The solution: our own website</h2>
<p>Instead of fighting platform limitations â€” I built TVAI. A separate site where <strong>anyone interested in AI can come and read the latest news from their chosen company</strong> â€” concise and to the point.</p>
<p>The whole process is 100% automatic. News appears, an agent finds it, writes an article, generates a graphic and publishes â€” without any human involvement.</p>
<h2>Want something like this for your company?</h2>
<p>TVAI is one of the projects we build at <strong>Mediafy</strong> â€” to show what's possible with automation instead of just talking about it. We build similar systems for clients: automated blogs, newsletters, reports, competitor monitoring.</p>
<p>If you want to know what we can automate for you â€” get in touch.</p>
<div class="about-links">
  <a class="about-link-btn primary" href="https://www.mediafy.com.pl/o-nas" target="_blank">Let's talk â†’</a>
  <a class="about-link-btn" href="https://www.mediafy.com.pl/" target="_blank">mediafy.com.pl</a>
  <a class="about-link-btn" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">LinkedIn Jerzy</a>
</div>`,
  },

  de: {
    allPosts: 'BlogbeitrÃ¤ge',
    prevPage: 'â† Vorherige', nextPage: 'NÃ¤chste â†’',
    unsubTitle: 'Du hast dich abgemeldet',
    unsubSub: 'Du wirst keine Nachrichten mehr von TVAI erhalten. Falls das ein Fehler war â€” du kannst dich unten wieder anmelden.',
    unsubFirms: 'Ich mÃ¶chte Alerts Ã¼ber Firmen erhalten',
    unsubExtras: 'Extras',
    unsubEmailPh: 'deine@email.de',
    unsubResubBtn: 'Wieder anmelden â†’',
    unsubCloseBtn: 'SchlieÃŸen ohne Anmelden',
    unsubSuccessTitle: 'Wieder angemeldet!',
    unsubSuccessSub: 'PrÃ¼fe dein Postfach â€” du erhÃ¤ltst gleich eine Willkommens-E-Mail.',
    unsubSuccessBtn: 'News lesen â†’',
    autoBadge: '100% automatisch â€” kein Mensch verÃ¶ffentlicht das hier',
    sgTitle: 'Hey, ich sehe dich hier ğŸ‘€',
    sgSub: 'Du hast bereits einige Artikel gelesen â€” wenn dir TVAI gefÃ¤llt, abonniere den Newsletter damit du nichts verpasst. 100% automatisch.',
    sgFeedbackLabel: 'Feedback?',
    sgFeedbackSub: 'Das ist ein lebendiges Projekt â€” ich entwickle es allein und bin fÃ¼r jede Idee dankbar. Was kÃ¶nnte besser sein?',
    sgFeedbackLink: 'âœ‰ï¸ Schreib mir',
    sgFeedbackUrl: 'https://www.linkedin.com/in/jerzy-mediafy/',
    sgEmailPh: 'deine@email.de',
    sgBtn: 'Abonnieren â†’',
    sgSkip: 'Vielleicht spÃ¤ter (24h schlieÃŸen)',
    h1a: 'Neueste KI-Nachrichten',
    h1b: 'live, ungefiltert',
    heroP: 'Bleib auf dem Laufenden mit den wichtigsten Nachrichten aus der KI-Welt â€“ OpenAI, Google, Anthropic, xAI und mehr. Ohne Blabla.',
    heroSub: 'ğŸ“¡ Nachrichten automatisch generiert von Auto-JeÅ¼',
    statArt: 'Artikel', statFirms: 'KI-Firmen', statToday: 'Heute hinzugefÃ¼gt',
    filterAll: 'Alle', searchPh: 'Nachrichten suchen...',
    readMore: 'Artikel lesen â†’', today: 'Heute',
    back: 'â† ZurÃ¼ck zu den News', backAbout: 'â† ZurÃ¼ck zu den News',
    shareX: 'ğ• Teilen', shareLi: 'in LinkedIn',
    copyLink: 'ğŸ”— Link kopieren', copied: 'âœ“ Kopiert!',
    autoAI: 'ğŸ¤– Von KI generiert',
    related: 'Mehr von derselben Firma',
    random: 'ğŸ² ZufÃ¤llig',
    loading: 'BeitrÃ¤ge werden geladen...', loadingArt: 'Laden...',
    nlModalTitle: 'Newsletter anpassen ğŸ¯',
    nlModalSub: 'WÃ¤hle was du erhalten mÃ¶chtest â€” nur was dich interessiert, kein Spam.',
    nlSectionFirms: 'Unternehmens-Alerts',
    nlSectionExtras: 'Extras',
    nlTop5: 'ğŸ“Š Top 5 der Woche',
    nlRaport: 'ğŸ“‹ Monatsbericht',
    nlConfirm: 'Einstellungen speichern â†’',
    nlSkipAll: 'Ãœberspringen â€” alles abonnieren',
    newsLabel: 'Newsletter', newsTitle: 'KI-News direkt in dein Postfach',
    newsSub: 'Kein Spam. Nur die wichtigsten KI-Nachrichten, automatisch wenn sie erscheinen.',
    newsEmailPh: 'deine@email.de',
    newsBtn: 'Abonnieren â†’', newsSuccess: 'âœ“ Abonniert! PrÃ¼fe dein Postfach.',
    contact: 'Kontakt', about: 'Ãœber das Projekt',
    searchResults: 'Ergebnisse fÃ¼r:',
    noResults: 'Keine Ergebnisse fÃ¼r',
    noFilter: 'Keine BeitrÃ¤ge fÃ¼r den gewÃ¤hlten Filter.',
    views: 'Aufrufe',
    loadError: 'Artikel konnte nicht geladen werden.',
    footer: 'KI-Nachrichten Â· Automatisch generiert von Auto-JeÅ¼',
    tickerLabel: 'Letzter Beitrag:',
    aboutHTML: `
<h2>Wie entstand TVAI?</h2>
<p>Es begann mit Frustration. Ich verfolge gerne die KI-Welt â€” aber die Blogs von OpenAI, Google, Anthropic und Co. nacheinander zu checken dauert ewig. Die BeitrÃ¤ge sind lang, auf Englisch, und statt auf den Punkt zu kommen gibt es erstmal drei AbsÃ¤tze Einleitung.</p>
<p>Ich rief Social-Media-Agenturen an und fragte, ob sie das fÃ¼r mich Ã¼bernehmen kÃ¶nnten â€” <strong>News von mehreren KI-Firmen beobachten und noch am selben Tag auf Polnisch mit Infografik posten.</strong> Die Antwort war immer dieselbe: mÃ¶glich, aber teuer und mit mehreren Tagen VerzÃ¶gerung. Ohne Sinn.</p>
<p>Da sah ich die LÃ¼cke.</p>
<h2>LinkedIn-Newsletter â€” und warum es nicht funktionierte</h2>
<p>Zuerst erstellte ich einen LinkedIn-Newsletter â€” nur Ã¼ber OpenAI-News. Es funktionierte, aber ein Problem tauchte auf: Jeder Newsletter-Beitrag ist auch ein Profilpost. Bei 2â€“3 News tÃ¤glich von nur einer Firma <strong>wurde mein Profil zur MÃ¼llhalde</strong>.</p>
<p>Ich verschob den Newsletter auf das Mediafy-Firmenkonto â€” aber LinkedIn verlangt 150 Follower fÃ¼r einen Firmen-Newsletter. Eine Sackgasse.</p>
<h2>Die LÃ¶sung: eigene Website</h2>
<p>Statt gegen PlattformbeschrÃ¤nkungen zu kÃ¤mpfen â€” baute ich TVAI. Ein Ort, wo <strong>jeder KI-Interessierte die neuesten News seiner Lieblingsfirma lesen kann</strong> â€” kurz und auf den Punkt.</p>
<p>Der gesamte Prozess ist zu 100% automatisch. Eine News erscheint, ein Agent findet sie, schreibt einen Artikel, generiert eine Grafik und verÃ¶ffentlicht â€” ohne menschliches Zutun.</p>
<h2>MÃ¶chten Sie so etwas fÃ¼r Ihr Unternehmen?</h2>
<p>TVAI ist eines der Projekte, die wir bei <strong>Mediafy</strong> bauen â€” um zu zeigen, was mit Automatisierung mÃ¶glich ist. Wir bauen Ã¤hnliche Systeme fÃ¼r Kunden: automatische Blogs, Newsletter, Berichte, Wettbewerber-Monitoring.</p>
<div class="about-links">
  <a class="about-link-btn primary" href="https://www.mediafy.com.pl/o-nas" target="_blank">Lass uns reden â†’</a>
  <a class="about-link-btn" href="https://www.mediafy.com.pl/" target="_blank">mediafy.com.pl</a>
  <a class="about-link-btn" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">LinkedIn Jerzy</a>
</div>`,
  },

  fr: {
    allPosts: 'Articles de blog',
    prevPage: 'â† PrÃ©cÃ©dent', nextPage: 'Suivant â†’',
    unsubTitle: 'Vous vous Ãªtes dÃ©sabonnÃ©',
    unsubSub: "Vous ne recevrez plus de messages de TVAI. Si c'Ã©tait une erreur â€” vous pouvez vous rÃ©abonner ci-dessous.",
    unsubFirms: 'Je veux des alertes sur les entreprises',
    unsubExtras: 'Extras',
    unsubEmailPh: 'ton@email.fr',
    unsubResubBtn: 'Se rÃ©abonner â†’',
    unsubCloseBtn: 'Fermer sans s\'abonner',
    unsubSuccessTitle: 'RÃ©abonnÃ© !',
    unsubSuccessSub: 'VÃ©rifiez votre boÃ®te â€” vous recevrez bientÃ´t un email de bienvenue.',
    unsubSuccessBtn: 'Lire les news â†’',
    autoBadge: '100% automatique â€” aucun humain ne publie ceci',
    sgTitle: 'Hey, je te vois par ici ğŸ‘€',
    sgSub: "Tu as dÃ©jÃ  lu quelques articles â€” si TVAI te plaÃ®t, abonne-toi Ã  la newsletter pour ne rien manquer. 100% automatique.",
    sgFeedbackLabel: 'Un avis ?',
    sgFeedbackSub: "C'est un projet vivant â€” je le dÃ©veloppe seul et je suis reconnaissant pour chaque idÃ©e. Qu'est-ce qui pourrait Ãªtre amÃ©liorÃ© ?",
    sgFeedbackLink: 'âœ‰ï¸ Ã‰cris-moi',
    sgFeedbackUrl: 'https://www.linkedin.com/in/jerzy-mediafy/',
    sgEmailPh: 'ton@email.fr',
    sgBtn: "S'abonner â†’",
    sgSkip: 'Peut-Ãªtre plus tard (fermer 24h)',
    h1a: "DerniÃ¨res nouvelles IA",
    h1b: 'en direct, sans filtre',
    heroP: "Restez informÃ© des actualitÃ©s les plus importantes du monde de l'IA â€“ OpenAI, Google, Anthropic, xAI et plus. Sans bullshit.",
    heroSub: "ğŸ“¡ ActualitÃ©s gÃ©nÃ©rÃ©es automatiquement par Auto-JeÅ¼",
    statArt: 'Articles', statFirms: "Entreprises IA", statToday: "AjoutÃ©s aujourd'hui",
    filterAll: 'Tous', searchPh: 'Rechercher...',
    readMore: "Lire l'article â†’", today: "Aujourd'hui",
    back: 'â† Retour aux news', backAbout: 'â† Retour aux news',
    shareX: 'ğ• Partager', shareLi: 'in LinkedIn',
    copyLink: 'ğŸ”— Copier le lien', copied: 'âœ“ CopiÃ©!',
    autoAI: 'ğŸ¤– GÃ©nÃ©rÃ© par IA',
    related: 'Plus de la mÃªme entreprise',
    random: 'ğŸ² AlÃ©atoire',
    loading: 'Chargement...', loadingArt: 'Chargement...',
    nlModalTitle: 'Personnaliser votre newsletter ğŸ¯',
    nlModalSub: 'Choisissez ce que vous voulez recevoir â€” uniquement ce qui vous intÃ©resse, sans spam.',
    nlSectionFirms: 'Alertes entreprises',
    nlSectionExtras: 'Extras',
    nlTop5: 'ğŸ“Š Top 5 de la semaine',
    nlRaport: 'ğŸ“‹ Rapport mensuel',
    nlConfirm: 'Enregistrer les prÃ©fÃ©rences â†’',
    nlSkipAll: 'Ignorer â€” m\'abonner Ã  tout',
    newsLabel: 'Newsletter', newsTitle: "L'actu IA dans votre boÃ®te mail",
    newsSub: "Pas de spam. Uniquement les actualitÃ©s IA les plus importantes, automatiquement dÃ¨s leur parution.",
    newsEmailPh: 'ton@email.fr',
    newsBtn: "S'abonner â†’", newsSuccess: 'âœ“ AbonnÃ©! VÃ©rifiez votre boÃ®te.',
    contact: 'Nous contacter', about: 'Ã€ propos',
    searchResults: 'RÃ©sultats pour :',
    noResults: 'Aucun rÃ©sultat pour',
    noFilter: 'Aucun article pour le filtre sÃ©lectionnÃ©.',
    views: 'vues',
    loadError: "Impossible de charger l'article.",
    footer: 'ActualitÃ©s IA Â· GÃ©nÃ©rÃ©es automatiquement par Auto-JeÅ¼',
    tickerLabel: 'Dernier article :',
    aboutHTML: `
<h2>Comment TVAI est nÃ© ?</h2>
<p>Tout a commencÃ© par une frustration. J'aime suivre l'actualitÃ© de l'IA â€” mais vÃ©rifier les blogs d'OpenAI, Google, Anthropic et les autres un par un prend une Ã©ternitÃ©. Les articles sont longs, en anglais, et au lieu d'aller droit au but, il y a trois paragraphes d'introduction.</p>
<p>J'ai commencÃ© Ã  appeler des agences de rÃ©seaux sociaux pour leur demander de s'en charger â€” <strong>surveiller les news de plusieurs entreprises IA et les publier le jour mÃªme, en polonais, avec une infographie.</strong> La rÃ©ponse Ã©tait toujours la mÃªme : possible, mais cher et avec plusieurs jours de dÃ©lai. Sans intÃ©rÃªt.</p>
<p>C'est lÃ  que j'ai vu le manque.</p>
<h2>Newsletter LinkedIn â€” et pourquoi Ã§a n'a pas fonctionnÃ©</h2>
<p>J'ai d'abord crÃ©Ã© une newsletter LinkedIn â€” uniquement sur les news OpenAI. Ã‡a fonctionnait, mais un problÃ¨me est apparu : chaque article de newsletter est aussi un post de profil. Avec 2â€“3 news par jour d'une seule entreprise, <strong>mon profil devenait une poubelle</strong>.</p>
<p>Une impasse aprÃ¨s l'autre. C'est alors que j'ai crÃ©Ã© <strong>Auto-JeÅ¼</strong> â€” mais lÃ  aussi des complications.</p>
<h2>La solution : notre propre site</h2>
<p>Au lieu de lutter contre les limitations des plateformes â€” j'ai crÃ©Ã© TVAI. Un endroit oÃ¹ <strong>tout passionnÃ© d'IA peut lire les derniÃ¨res news de l'entreprise de son choix</strong> â€” en bref et sans dÃ©tour.</p>
<p>Tout le processus est automatique Ã  100%. Une news apparaÃ®t, un agent la trouve, rÃ©dige un article, gÃ©nÃ¨re un visuel et publie â€” sans intervention humaine.</p>
<h2>Vous voulez quelque chose de similaire ?</h2>
<p>TVAI est l'un des projets que nous construisons chez <strong>Mediafy</strong> â€” pour montrer ce qui est possible avec l'automatisation. Nous construisons des systÃ¨mes similaires pour nos clients : blogs automatiques, newsletters, rapports, veille concurrentielle.</p>
<div class="about-links">
  <a class="about-link-btn primary" href="https://www.mediafy.com.pl/o-nas" target="_blank">Parlons-en â†’</a>
  <a class="about-link-btn" href="https://www.mediafy.com.pl/" target="_blank">mediafy.com.pl</a>
  <a class="about-link-btn" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">LinkedIn Jerzy</a>
</div>`,
  },

  es: {
    allPosts: 'Entradas del blog',
    unsubTitle: 'Te has dado de baja',
    unsubSub: 'Ya no recibirÃ¡s mensajes de TVAI. Si fue un error â€” puedes volver a suscribirte abajo.',
    unsubFirms: 'Quiero alertas sobre empresas',
    unsubExtras: 'Extras',
    unsubEmailPh: 'tu@email.es',
    unsubResubBtn: 'Suscribirse de nuevo â†’',
    unsubCloseBtn: 'Cerrar sin suscribirse',
    unsubSuccessTitle: 'Â¡Suscrito de nuevo!',
    unsubSuccessSub: 'Revisa tu bandeja â€” pronto recibirÃ¡s un email de bienvenida.',
    unsubSuccessBtn: 'Leer noticias â†’',
    prevPage: 'â† Anterior', nextPage: 'Siguiente â†’',
    autoBadge: '100% automÃ¡tico â€” ningÃºn humano publica esto',
    sgTitle: 'Oye, te veo por aquÃ­ ğŸ‘€',
    sgSub: 'Ya has leÃ­do varios artÃ­culos â€” si te gusta TVAI, suscrÃ­bete al newsletter para no perderte nada. 100% automÃ¡tico.',
    sgFeedbackLabel: 'Â¿Tienes feedback?',
    sgFeedbackSub: 'Es un proyecto vivo â€” lo desarrollo solo y agradezco cada idea. Â¿QuÃ© podrÃ­a mejorar? Â¿QuÃ© funciÃ³n te gustarÃ­a ver?',
    sgFeedbackLink: 'âœ‰ï¸ EscrÃ­beme',
    sgFeedbackUrl: 'https://www.linkedin.com/in/jerzy-mediafy/',
    sgEmailPh: 'tu@email.es',
    sgBtn: 'Suscribirse â†’',
    sgSkip: 'QuizÃ¡s mÃ¡s tarde (cerrar 24h)',
    h1a: 'Ãšltimas noticias de IA',
    h1b: 'en vivo, sin filtros',
    heroP: 'Mantente al dÃ­a con las noticias mÃ¡s importantes del mundo de la IA â€“ OpenAI, Google, Anthropic, xAI y mÃ¡s. Sin rodeos.',
    heroSub: 'ğŸ“¡ Noticias generadas automÃ¡ticamente por Auto-JeÅ¼',
    statArt: 'ArtÃ­culos', statFirms: 'Empresas IA', statToday: 'AÃ±adidos hoy',
    filterAll: 'Todos', searchPh: 'Buscar noticias...',
    readMore: 'Leer artÃ­culo â†’', today: 'Hoy',
    back: 'â† Volver a noticias', backAbout: 'â† Volver a noticias',
    shareX: 'ğ• Compartir', shareLi: 'in LinkedIn',
    copyLink: 'ğŸ”— Copiar enlace', copied: 'âœ“ Â¡Copiado!',
    autoAI: 'ğŸ¤– Generado por IA',
    related: 'MÃ¡s de la misma empresa',
    random: 'ğŸ² Aleatorio',
    loading: 'Cargando entradas...', loadingArt: 'Cargando...',
    nlModalTitle: 'Personaliza tu newsletter ğŸ¯',
    nlModalSub: 'Elige quÃ© quieres recibir â€” solo lo que te interesa, sin spam.',
    nlSectionFirms: 'Alertas de empresas',
    nlSectionExtras: 'Extras',
    nlTop5: 'ğŸ“Š Top 5 de la semana',
    nlRaport: 'ğŸ“‹ Informe mensual',
    nlConfirm: 'Guardar preferencias â†’',
    nlSkipAll: 'Omitir â€” suscribirme a todo',
    newsLabel: 'Newsletter', newsTitle: 'Noticias IA directo a tu correo',
    newsSub: 'Sin spam. Solo las noticias IA mÃ¡s importantes, automÃ¡ticamente cuando aparezcan.',
    newsEmailPh: 'tu@email.es',
    newsBtn: 'Suscribirse â†’', newsSuccess: 'âœ“ Â¡Suscrito! Revisa tu bandeja.',
    contact: 'ContÃ¡ctanos', about: 'Sobre el proyecto',
    searchResults: 'Resultados para:',
    noResults: 'Sin resultados para',
    noFilter: 'No hay entradas para el filtro seleccionado.',
    views: 'vistas',
    loadError: 'No se pudo cargar el artÃ­culo.',
    footer: 'Noticias IA Â· Generadas automÃ¡ticamente por Auto-JeÅ¼',
    tickerLabel: 'Ãšltima entrada:',
    aboutHTML: `
<h2>Â¿CÃ³mo surgiÃ³ TVAI?</h2>
<p>EmpezÃ³ con frustraciÃ³n. Me gusta seguir el mundo de la IA â€” pero revisar los blogs de OpenAI, Google, Anthropic y el resto uno por uno lleva una eternidad. Los artÃ­culos son largos, en inglÃ©s, y en lugar de ir al grano tienen tres pÃ¡rrafos de introducciÃ³n.</p>
<p>EmpecÃ© a llamar a agencias de redes sociales preguntando si podÃ­an hacerlo por mÃ­ â€” <strong>monitorear noticias de varias empresas de IA y publicarlas el mismo dÃ­a, en polaco, con una infografÃ­a.</strong> La respuesta siempre era la misma: posible, pero caro y con varios dÃ­as de retraso. Sin sentido.</p>
<p>Fue entonces cuando vi el hueco.</p>
<h2>Newsletter de LinkedIn â€” y por quÃ© no funcionÃ³</h2>
<p>Primero creÃ© un newsletter en LinkedIn â€” solo sobre noticias de OpenAI. Funcionaba, pero surgiÃ³ un problema: cada entrada del newsletter es tambiÃ©n un post en el perfil. Con 2â€“3 noticias diarias de solo una empresa, <strong>mi perfil se convirtiÃ³ en un vertedero</strong>.</p>
<p>Un callejÃ³n sin salida tras otro. TambiÃ©n creÃ© el personaje <strong>Auto-JeÅ¼</strong> â€” pero ahÃ­ tambiÃ©n hubo complicaciones.</p>
<h2>La soluciÃ³n: nuestra propia web</h2>
<p>En lugar de luchar contra las limitaciones de las plataformas â€” creÃ© TVAI. Un lugar donde <strong>cualquier interesado en IA puede entrar y leer las Ãºltimas noticias de su empresa favorita</strong> â€” en breve y al grano.</p>
<p>Todo el proceso es 100% automÃ¡tico. Aparece una noticia, un agente la encuentra, escribe un artÃ­culo, genera un grÃ¡fico y publica â€” sin intervenciÃ³n humana.</p>
<h2>Â¿Quieres algo asÃ­ para tu empresa?</h2>
<p>TVAI es uno de los proyectos que construimos en <strong>Mediafy</strong> â€” para demostrar lo que es posible con la automatizaciÃ³n. Construimos sistemas similares para clientes: blogs automÃ¡ticos, newsletters, informes, monitoreo de competencia.</p>
<div class="about-links">
  <a class="about-link-btn primary" href="https://www.mediafy.com.pl/o-nas" target="_blank">Hablemos â†’</a>
  <a class="about-link-btn" href="https://www.mediafy.com.pl/" target="_blank">mediafy.com.pl</a>
  <a class="about-link-btn" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">LinkedIn Jerzy</a>
</div>`,
  }
};

let currentLang = localStorage.getItem('tvai_lang') || 'pl';

function toggleLangMenu() {
  const m = document.getElementById('lang-menu');
  m.style.display = m.style.display === 'none' ? 'block' : 'none';
}

document.addEventListener('click', e => {
  if (!document.getElementById('lang-wrap').contains(e.target)) {
    document.getElementById('lang-menu').style.display = 'none';
  }
});
function setLang(lang) {
  currentLang = lang;
  localStorage.setItem('tvai_lang', lang);
  document.getElementById('lang-label').textContent = lang.toUpperCase();
  document.getElementById('lang-menu').style.display = 'none';
  applyLang();
  renderList();
  buildTicker(allPosts);
}
function applyUnsubLang() {
  const t = T[currentLang];
  document.getElementById('unsub-title').textContent = t.unsubTitle;
  document.getElementById('unsub-sub').textContent = t.unsubSub;
  document.getElementById('unsub-firms-label').textContent = t.unsubFirms;
  document.getElementById('unsub-extras-label').textContent = t.unsubExtras;
  document.getElementById('unsub-email').placeholder = t.unsubEmailPh;
  document.getElementById('unsub-resub-btn').textContent = t.unsubResubBtn;
  document.getElementById('unsub-close-btn').textContent = t.unsubCloseBtn;
  document.getElementById('unsub-success-title').textContent = t.unsubSuccessTitle;
  document.getElementById('unsub-success-sub').textContent = t.unsubSuccessSub;
  document.getElementById('unsub-success-btn').textContent = t.unsubSuccessBtn;
}

function applyLang() {
  const t = T[currentLang];

  // HERO
  const badges = document.querySelectorAll('.hero-badge');
  if (badges[0]) badges[0].innerHTML = `<div class="hero-badge-dot"></div>${t.allPosts}`;
  if (badges[1]) badges[1].innerHTML = `<div class="hero-badge-dot" style="background:#10a37f"></div><span style="color:#10a37f">${t.autoBadge}</span>`;
  document.querySelector('.hero h1').innerHTML = `${t.h1a}<br><span class="dim">${t.h1b}</span>`;
  document.querySelector('.hero p').innerHTML = `${t.heroP}<br><span style="font-size:0.82rem;color:var(--text3);margin-top:8px;display:block">${t.heroSub}</span>`;
  document.querySelector('.hero-stat:nth-child(1) .hero-stat-label').textContent = t.statArt;
  document.querySelector('.hero-stat:nth-child(2) .hero-stat-label').textContent = t.statFirms;
  document.querySelector('.hero-stat:nth-child(3) .hero-stat-label').textContent = t.statToday;

  // FILTER / NAV
  document.querySelector('[data-filter="all"].tag-btn').childNodes[0].textContent = t.filterAll + ' ';
  document.querySelector('[data-filter="all"].filter-btn').textContent = t.filterAll;
  document.querySelector('.random-btn').textContent = t.random;
  document.querySelectorAll('.search-input').forEach(el => el.placeholder = t.searchPh);

  // HEADER BUTTONS
  document.getElementById('btn-contact').textContent = t.contact;
  document.getElementById('btn-about').textContent = t.about;

  // NEWSLETTER SECTION
  document.querySelector('.newsletter-label').textContent = t.newsLabel;
  document.querySelector('.newsletter-title').textContent = t.newsTitle;
  document.querySelector('.newsletter-sub').textContent = t.newsSub;
  document.querySelector('.newsletter-submit').textContent = t.newsBtn;
  document.getElementById('newsletter-email').placeholder = t.newsEmailPh;

  // NEWSLETTER MODAL
  document.querySelector('.nl-modal-title').textContent = t.nlModalTitle;
  document.querySelector('.nl-modal-sub').textContent = t.nlModalSub;
  document.querySelectorAll('.nl-section-label')[0].textContent = t.nlSectionFirms;
  document.querySelectorAll('.nl-section-label')[1].textContent = t.nlSectionExtras;
  document.querySelector('[data-value="top5"]').textContent = t.nlTop5;
  document.querySelector('[data-value="raport"]').textContent = t.nlRaport;
  document.querySelector('.nl-confirm-btn').textContent = t.nlConfirm;
  document.querySelector('.nl-skip-btn').textContent = t.nlSkipAll;

  // ARTICLE VIEW
  document.getElementById('back-btn').textContent = t.back;
  document.getElementById('share-x').textContent = t.shareX;
  document.getElementById('share-li').textContent = t.shareLi;
  document.getElementById('copy-link').textContent = t.copyLink;

  // SOFT GATE
  if (document.getElementById('sg-title')) updateSgLang();

  // ABOUT
  const aboutSec = document.querySelector('#about-view .about-section');
  if (aboutSec) aboutSec.innerHTML = t.aboutHTML;
  const aboutBack = document.querySelector('#about-view .article-back');
  if (aboutBack) aboutBack.textContent = t.backAbout;

  // FOOTER
  document.getElementById('footer-text').textContent = t.footer;
}
    // â”€â”€ SOFT GATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function trackArticleRead() {
  try {
    const sgData = JSON.parse(localStorage.getItem('tvai_sg') || '{}');
    const now = Date.now();
    if (sgData.closedUntil && now < sgData.closedUntil) return;
    if (sgData.subscribed) return;
    const count = (sgData.count || 0) + 1;
    localStorage.setItem('tvai_sg', JSON.stringify({ ...sgData, count }));
    if (count >= 5) showSoftGate();
  } catch(e) {}
}

function showSoftGate() {
  updateSgLang();
  document.getElementById('sg-modal-overlay').classList.add('visible');
}

function updateSgLang() {
  const t = T[currentLang];
  document.getElementById('sg-title').textContent = t.sgTitle;
  document.getElementById('sg-sub').textContent = t.sgSub;
  document.getElementById('sg-feedback-label').textContent = t.sgFeedbackLabel;
  document.getElementById('sg-feedback-sub').textContent = t.sgFeedbackSub;
  document.getElementById('sg-feedback-link').textContent = t.sgFeedbackLink;
  document.getElementById('sg-feedback-link').href = t.sgFeedbackUrl;
  document.getElementById('sg-nl-input').placeholder = t.sgEmailPh;
  document.getElementById('sg-nl-btn').textContent = t.sgBtn;
  document.getElementById('sg-skip').textContent = t.sgSkip;
}

function closeSoftGate(subscribe) {
  try {
    const sgData = JSON.parse(localStorage.getItem('tvai_sg') || '{}');
    if (subscribe) {
      const email = document.getElementById('sg-nl-input').value.trim();
      if (!email || !email.includes('@')) {
        document.getElementById('sg-nl-input').style.borderColor = '#ef4444';
        return;
      }
      sgData.subscribed = true;
      fetch('https://mediafy-sparta.app.n8n.cloud/webhook/newsletter-signup', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, firms: ['OpenAI','Google','Anthropic','xAI','Microsoft','Meta','Qwen','Bielik'], extras: ['top5','raport'], source: 'softgate' })
      }).catch(() => {});
    } else {
      sgData.closedUntil = Date.now() + 24 * 60 * 60 * 1000;
    }
    localStorage.setItem('tvai_sg', JSON.stringify(sgData));
  } catch(e) {}
  document.getElementById('sg-modal-overlay').classList.remove('visible');
}
    function closeUnsubModal() {
  document.getElementById('unsub-overlay').style.display = 'none';
  document.getElementById('unsub-step1').style.display = 'block';
  document.getElementById('unsub-step2').style.display = 'none';
  history.replaceState({}, '', window.location.pathname);
}

function resubscribeFromUnsub() {
  const email = document.getElementById('unsub-email').value.trim();
  if (!email || !email.includes('@')) {
    document.getElementById('unsub-email').style.borderColor = '#ef4444';
    return;
  }
  const firms = [...document.querySelectorAll('#unsub-firms .nl-chip.selected')].map(c => c.dataset.value);
  const extras = [...document.querySelectorAll('#unsub-extras .nl-chip.selected')].map(c => c.dataset.value);
  fetch('https://mediafy-sparta.app.n8n.cloud/webhook/newsletter-signup', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ email, firms, extras, source: 'resubscribe' })
  }).catch(() => {});
  document.getElementById('unsub-step1').style.display = 'none';
  document.getElementById('unsub-step2').style.display = 'block';
}
    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('lang-label').textContent = currentLang.toUpperCase();
      applyLang();
      init();
    });

  </script>

  <!-- NEWSLETTER MODAL -->
  <div id="nl-modal-overlay">
    <div id="nl-modal">
      <button id="nl-modal-close" onclick="document.getElementById('nl-modal-overlay').classList.remove('visible')">âœ•</button>
      <div class="nl-modal-title">Dostosuj swÃ³j newsletter ğŸ¯</div>
      <div class="nl-modal-sub">Wybierz co chcesz dostawaÄ‡ â€” tylko to co CiÄ™ interesuje, Å¼adnego spamu.</div>
      <div class="nl-section-label">Alerty o firmach</div>
      <div class="nl-chips" id="nl-firms">
        <div class="nl-chip selected" data-value="OpenAI">OpenAI</div>
        <div class="nl-chip selected" data-value="Google">Google</div>
        <div class="nl-chip selected" data-value="Anthropic">Anthropic</div>
        <div class="nl-chip" data-value="xAI">xAI</div>
        <div class="nl-chip" data-value="Microsoft">Microsoft</div>
        <div class="nl-chip" data-value="Meta">Meta</div>
        <div class="nl-chip" data-value="Qwen">Qwen</div>
        <div class="nl-chip" data-value="Bielik">ğŸ‡µğŸ‡± Bielik</div>
      </div>
      <hr class="nl-divider">
      <div class="nl-section-label">Dodatki</div>
      <div class="nl-chips" id="nl-extras">
        <div class="nl-chip selected" data-value="top5">ğŸ“Š Top 5 tygodnia</div>
        <div class="nl-chip" data-value="raport">ğŸ“‹ Raport miesiÄ™czny</div>
      </div>
      <button class="nl-confirm-btn" onclick="confirmNewsletter()">Zapisz preferencje â†’</button>
      <button class="nl-skip-btn" onclick="closeNlModal()">PomiÅ„ â€” zapisz mnie na wszystko</button>
    </div>
  </div>
<!-- UNSUBSCRIBE MODAL -->
<div id="unsub-overlay" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.75);backdrop-filter:blur(6px);z-index:3000;align-items:center;justify-content:center">
  <div id="unsub-modal" style="background:#0a0a12;border:1px solid rgba(239,68,68,0.25);border-radius:20px;padding:36px;width:90%;max-width:480px;box-shadow:0 24px 80px rgba(0,0,0,0.7);position:relative">
    <button onclick="closeUnsubModal()" style="position:absolute;top:14px;right:14px;width:28px;height:28px;background:rgba(255,255,255,0.08);border:none;border-radius:50%;color:#9090a8;font-size:0.75rem;cursor:pointer;display:flex;align-items:center;justify-content:center">âœ•</button>
    
    <!-- STAN 1: potwierdzenie wypisania -->
    <div id="unsub-step1">
  <p style="font-size:2rem;margin-bottom:8px">ğŸ˜¢</p>
  <div id="unsub-title" style="font-family:'Syne',sans-serif;font-size:1.35rem;font-weight:800;color:#fff;margin-bottom:6px">WypisaÅ‚eÅ› siÄ™ z newslettera</div>
  <div id="unsub-sub" style="font-size:0.82rem;color:#9090a8;margin-bottom:24px;line-height:1.6">Nie bÄ™dziesz juÅ¼ dostawaÄ‡ wiadomoÅ›ci od TVAI.<br>JeÅ›li to pomyÅ‚ka â€” moÅ¼esz zapisaÄ‡ siÄ™ ponownie poniÅ¼ej.</div>

  <div id="unsub-firms-label" style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.1em;color:#505060;margin-bottom:10px">ChcÄ™ dostawaÄ‡ alerty o firmach</div>
  <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:20px" id="unsub-firms">
    <div class="nl-chip selected" data-value="OpenAI">OpenAI</div>
    <div class="nl-chip selected" data-value="Google">Google</div>
    <div class="nl-chip selected" data-value="Anthropic">Anthropic</div>
    <div class="nl-chip" data-value="xAI">xAI</div>
    <div class="nl-chip" data-value="Microsoft">Microsoft</div>
    <div class="nl-chip" data-value="Meta">Meta</div>
    <div class="nl-chip" data-value="Qwen">Qwen</div>
    <div class="nl-chip" data-value="Bielik">ğŸ‡µğŸ‡± Bielik</div>
  </div>

  <hr style="border:none;border-top:1px solid rgba(255,255,255,0.06);margin:16px 0">

  <div id="unsub-extras-label" style="font-size:0.68rem;font-weight:700;text-transform:uppercase;letter-spacing:0.1em;color:#505060;margin-bottom:10px">Dodatki</div>
  <div style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:24px" id="unsub-extras">
    <div class="nl-chip selected" data-value="top5">ğŸ“Š Top 5 tygodnia</div>
    <div class="nl-chip" data-value="raport">ğŸ“‹ Raport miesiÄ™czny</div>
  </div>

  <input type="email" id="unsub-email" placeholder="twoj@email.pl" style="width:100%;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.11);border-radius:100px;color:#fff;font-family:'Inter',sans-serif;font-size:0.85rem;padding:11px 20px;outline:none;margin-bottom:8px;box-sizing:border-box"/>

  <button id="unsub-resub-btn" onclick="resubscribeFromUnsub()" style="width:100%;background:#2563eb;color:#fff;border:none;border-radius:100px;font-family:'Inter',sans-serif;font-size:0.88rem;font-weight:700;padding:13px;cursor:pointer;box-shadow:0 4px 20px rgba(37,99,235,0.35);margin-bottom:8px">Zapisz siÄ™ ponownie â†’</button>
  <button id="unsub-close-btn" onclick="closeUnsubModal()" style="width:100%;background:transparent;border:1px solid rgba(255,255,255,0.08);border-radius:100px;font-family:'Inter',sans-serif;font-size:0.82rem;font-weight:500;color:#9090a8;padding:11px;cursor:pointer">Zamknij bez zapisywania</button>
</div>

<div id="unsub-step2" style="display:none;text-align:center;padding:20px 0">
  <p style="font-size:2.5rem;margin-bottom:12px">âœ…</p>
  <div id="unsub-success-title" style="font-family:'Syne',sans-serif;font-size:1.3rem;font-weight:800;color:#fff;margin-bottom:8px">Zapisano ponownie!</div>
  <div id="unsub-success-sub" style="font-size:0.85rem;color:#9090a8;margin-bottom:24px;line-height:1.6">SprawdÅº skrzynkÄ™ â€” juÅ¼ za chwilÄ™ dostaniesz maila powitalnego.</div>
  <button id="unsub-success-btn" onclick="closeUnsubModal()" style="background:#2563eb;color:#fff;border:none;border-radius:100px;font-family:'Inter',sans-serif;font-size:0.85rem;font-weight:700;padding:12px 28px;cursor:pointer">Czytaj newsy â†’</button>
</div>

  </div>
</div>
  <!-- SOFT GATE MODAL -->
<div id="sg-modal-overlay">
  <div id="sg-modal">
    <button id="sg-modal-close" onclick="closeSoftGate(false)">âœ•</button>
    <div class="sg-emoji">ğŸ“¬</div>
    <div class="sg-title" id="sg-title">Hej, widzÄ™ Å¼e tu bywasz ğŸ‘€</div>
    <div class="sg-sub" id="sg-sub">PrzeczytaÅ‚eÅ› juÅ¼ kilka artykuÅ‚Ã³w â€” jeÅ›li TVAI Ci siÄ™ podoba, zapisz siÄ™ na newsletter Å¼eby nic nie pominÄ…Ä‡.</div>
    <div class="sg-nl-form">
      <input type="email" class="sg-nl-input" id="sg-nl-input" placeholder="twoj@email.pl" />
      <button class="sg-nl-btn" id="sg-nl-btn" onclick="closeSoftGate(true)">Zapisz siÄ™ â†’</button>
    </div>
    <span class="sg-skip" id="sg-skip" onclick="closeSoftGate(false)">MoÅ¼e pÃ³Åºniej (zamknij na 24h)</span>
    <hr class="sg-divider">
    <div class="sg-feedback-label" id="sg-feedback-label">Masz feedback?</div>
    <div class="sg-feedback-sub" id="sg-feedback-sub">To Å¼ywy projekt â€” rozwijam go sam i jestem wdziÄ™czny za kaÅ¼dy pomysÅ‚.</div>
    <a class="sg-feedback-link" id="sg-feedback-link" href="https://www.linkedin.com/in/jerzy-mediafy/" target="_blank">âœ‰ï¸ Napisz do mnie</a>
  </div>
</div>
  
</body>
</html>
